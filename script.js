document.addEventListener('DOMContentLoaded', () => {
const DEFAULT_GAME_DATA = {
    categories: [
        { id: 'c1', name: 'معلومات كرة قدم', img: 'https://upload.wikimedia.org/wikipedia/commons/3/3d/Lionel_Messi_NE_Revolution_Inter_Miami_7.9.25-055.jpg' },
        { id: 'c2', name: 'مسيرة اللاعب', img: 'https://upload.wikimedia.org/wikipedia/commons/4/42/Football_in_Bloomington%2C_Indiana%2C_1995.jpg' },
        { id: 'c3', name: 'معلومات عامة', img: 'https://upload.wikimedia.org/wikipedia/commons/8/89/Faq-icon.svg' },
        { id: 'c4', name: 'طب عام', img: 'https://upload.wikimedia.org/wikipedia/commons/a/ab/Physical_examination.jpg' },
        { id: 'c5', name: 'أسئلة دينية', img: 'https://upload.wikimedia.org/wikipedia/commons/a/a0/Al_Masjid_an_Nabawi_3.jpg' },
        { id: 'c6', name: 'تاريخ', img: 'https://upload.wikimedia.org/wikipedia/commons/5/53/Nikolaos_Gyzis_-_Historia.jpg' },
        { id: 'c7', name: 'سيارات', img: 'https://upload.wikimedia.org/wikipedia/commons/2/2b/2009_BMW_X6_xDrive35i.jpg' },
        { id: 'c8', name: 'مشاهير', img: 'https://upload.wikimedia.org/wikipedia/commons/5/5f/Brad_Pitt%2C_Margot_Robbie%2C_and_Leonardo_DiCaprio_2019_by_Glenn_Francis.jpg' }
    ],
    questions: {
        c1: [ // معلومات كرة قدم (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "كم عدد اللاعبين في فريق كرة القدم الواحد على أرض الملعب؟", correct: "11 لاعبًا" },
            { points: 200, q: "ما هي مدة شوط المباراة الواحد في كرة القدم؟", correct: "45 دقيقة" },
            { points: 200, q: "ما هي البطاقة التي تؤدي إلى طرد اللاعب مباشرة؟", correct: "البطاقة الحمراء" },
            { points: 200, q: "ماذا تسمى المنطقة التي يقف فيها حارس المرمى؟", correct: "منطقة الجزاء" },
            { points: 200, q: "ما هو الجزء من الجسم الذي لا يُسمح للاعبين (باستثناء الحارس) بلمس الكرة به عمدًا؟", correct: "اليد" },
            { points: 200, q: "ما اسم البطولة الدولية للمنتخبات التي تقام كل أربع سنوات؟", correct: "كأس العالم" },
            { points: 200, q: "ماذا يحدث إذا انتهت مباراة في أدوار خروج المغلوب بالتعادل؟", correct: "يتم لعب أشواط إضافية" },
            { points: 200, q: "ما هو اسم الشخص الذي يدير المباراة ويطبق القوانين؟", correct: "الحكم" },
            { points: 200, q: "ما هو النادي الإسباني الذي يلقب بـ 'النادي الملكي'؟", correct: "ريال مدريد" },
            { points: 200, q: "في أي دولة نشأت كرة القدم بشكلها الحديث؟", correct: "إنجلترا" },
            { points: 200, q: "كم عدد التبديلات المسموح بها لكل فريق في المباراة الواحدة (حسب القوانين الجديدة)؟", correct: "5 تبديلات" },
            { points: 200, q: "ماذا تسمى الركلة التي يتم تنفيذها من زاوية الملعب؟", correct: "ركلة ركنية" },
            { points: 200, q: "ما هو النادي الإيطالي الذي يلقب بـ 'السيدة العجوز'؟", correct: "يوفنتوس" },
            { points: 200, q: "ماذا تسمى الضربة التي تمنح للفريق إذا ارتكب الخصم خطأ داخل منطقة جزائه؟", correct: "ركلة جزاء" },
            { points: 200, q: "ما هو اللقب الذي يطلق على منتخب البرازيل لكرة القدم؟", correct: "السيليساو" },
            { points: 200, q: "ما اسم الملعب الرئيسي لنادي برشلونة؟", correct: "كامب نو" },
            { points: 200, q: "ما هو لون القميص الأساسي لمنتخب إيطاليا؟", correct: "الأزرق" },
            { points: 200, q: "من هو اللاعب الذي يرتدي القفازات في الفريق؟", correct: "حارس المرمى" },
            { points: 200, q: "ماذا تسمى الحالة التي يكون فيها اللاعب أقرب إلى مرمى الخصم من آخر مدافع لحظة تمرير الكرة له؟", correct: "تسلل" },
            { points: 200, q: "ما هو اسم الكرة الرسمية لكأس العالم 2022 في قطر؟", correct: "الرحلة" },
            // Medium (400 points)
            { points: 400, q: "من هو الهداف التاريخي لدوري أبطال أوروبا؟", correct: "كريستيانو رونالدو" },
            { points: 400, q: "ما هو أول منتخب فاز ببطولة كأس العالم؟", correct: "الأوروغواي" },
            { points: 400, q: "في أي عام أقيمت أول بطولة لكأس العالم؟", correct: "1930" },
            { points: 400, q: "ما هو النادي الذي فاز بأكبر عدد من ألقاب دوري أبطال أوروبا؟", correct: "ريال مدريد" },
            { points: 400, q: "من هو اللاعب الذي فاز بجائزة الكرة الذهبية لأكبر عدد من المرات؟", correct: "ليونيل ميسي" },
            { points: 400, q: "ما هو اسم القانون الذي سمح للاعبين بالانتقال مجانًا بعد انتهاء عقودهم؟", correct: "قانون بوسمان" },
            { points: 400, q: "ما هو المنتخب الذي فاز بكأس العالم 2010 لأول مرة في تاريخه؟", correct: "منتخب إسبانيا" },
            { points: 400, q: "كم عدد الأندية التي تهبط من الدوري الإنجليزي الممتاز كل موسم؟", correct: "3 أندية" },
            { points: 400, q: "ما هو اسم البطولة القارية للمنتخبات في أوروبا؟", correct: "بطولة أمم أوروبا (اليورو)" },
            { points: 400, q: "ما هو النادي الإنجليزي الذي يلقب بـ 'الشياطين الحمر'؟", correct: "مانشستر يونايتد" },
            { points: 400, q: "من هو المدرب الذي قاد فريق ليستر سيتي للفوز بالدوري الإنجليزي في موسم 2015-2016؟", correct: "كلاوديو رانييري" },
            { points: 400, q: "ما هو 'ديربي الغضب'؟", correct: "المباراة بين ميلان وإنتر ميلان" },
            { points: 400, q: "ما هو الملعب الذي استضاف نهائي كأس العالم 2014 في البرازيل؟", correct: "ملعب ماراكانا" },
            { points: 400, q: "ما هو المنتخب الأفريقي الذي وصل إلى ربع نهائي كأس العالم 2010؟", correct: "منتخب غانا" },
            { points: 400, q: "ما هي تقنية الفيديو المستخدمة لمساعدة الحكام في اتخاذ القرارات؟", correct: "VAR" },
            { points: 400, q: "ما هو اسم البطولة القارية للأندية في أمريكا الجنوبية؟", correct: "كوبا ليبرتادوريس" },
            { points: 400, q: "ما هو النادي الألماني الأكثر تتويجًا بلقب البوندسليجا؟", correct: "بايرن ميونخ" },
            { points: 400, q: "ما هو أكبر فوز في تاريخ كأس العالم من حيث عدد الأهداف في مباراة واحدة؟", correct: "المجر 10-1 السلفادور (1982)" },
            { points: 400, q: "ما هي الدولة التي استضافت كأس العالم مرتين وفازت بهما في المرتين؟", correct: "الأوروغواي (1930 و 1950)" },
            { points: 400, q: "ماذا يسمى الهدف الذي يتم تسجيله مباشرة من ركلة ركنية؟", correct: "هدف أولمبي" },
            // Hard (600 points)
            { points: 600, q: "من هو اللاعب الوحيد الذي فاز بكأس العالم كلاعب وكمدرب؟", correct: "ماريو زاغالو وفرانز بيكنباور وديدييه ديشامب (اختر أي واحد)" },
            { points: 600, q: "ما هو النادي الوحيد الذي فاز بدوري أبطال أوروبا وهو يلعب في الدرجة الثانية في بلده؟", correct: "نوتينغهام فورست" },
            { points: 600, q: "من هو اللاعب الذي سجل أسرع هاتريك (3 أهداف) في تاريخ الدوري الإنجليزي الممتاز؟", correct: "ساديو ماني" },
            { points: 600, q: "في أي نسخة من كأس العالم تم استخدام البطاقات الصفراء والحمراء لأول مرة؟", correct: "1970" },
            { points: 600, q: "ما هو النادي الذي فاز بالثلاثية (الدوري والكأس ودوري الأبطال) مرتين في تاريخه؟", correct: "برشلونة وبايرن ميونخ" },
            { points: 600, q: "من هو حارس المرمى الوحيد الذي فاز بجائزة الكرة الذهبية؟", correct: "ليف ياشين" },
            { points: 600, q: "ما هو المنتخب الذي وصل لنهائي كأس العالم 3 مرات متتالية وخسرها جميعًا؟", correct: "منتخب هولندا (1974, 1978) وألمانيا الغربية (1982, 1986)" },
            { points: 600, q: "ما هو اسم الكأس الأصلية لكأس العالم التي سرقت ولم يتم العثور عليها؟", correct: "كأس جول ريميه" },
            { points: 600, q: "من هو أكبر لاعب سنًا شارك في مباراة في كأس العالم؟", correct: "عصام الحضري" },
            { points: 600, q: "ما هو 'هدف الشبح' الذي أثار جدلاً كبيراً في نهائي كأس العالم 1966؟", correct: "هدف جيوف هيرست لإنجلترا ضد ألمانيا الغربية" },
            { points: 600, q: "ما هو النادي الذي يحمل الرقم القياسي في عدد مرات الفوز بكأس الاتحاد الإنجليزي؟", correct: "آرسنال" },
            { points: 600, q: "من هو اللاعب الذي سجل أكبر عدد من الأهداف في نسخة واحدة من كأس العالم؟", correct: "جاست فونتين (13 هدفًا)" },
            { points: 600, q: "ما هي قاعدة الهدف الذهبي التي كانت تستخدم في الأشواط الإضافية؟", correct: "المباراة تنتهي فور تسجيل أول هدف" },
            { points: 600, q: "ما هو الفريق الذي أقصى إيطاليا من كأس العالم 2002 بهدف ذهبي مثير للجدل؟", correct: "كوريا الجنوبية" },
            { points: 600, q: "من هو مخترع 'ركلة بانينكا' الشهيرة في تسديد ركلات الجزاء؟", correct: "أنتونين بانينكا" },
            { points: 600, q: "ما هو النادي الذي يلقب بـ 'عمال المناجم' في أوكرانيا؟", correct: "شاختار دونيتسك" },
            { points: 600, q: "ما هي جنسية الحكم الذي أدار نهائي كأس العالم 2006 وطرد زين الدين زيدان؟", correct: "أرجنتيني (هوراسيو إليزوندو)" },
            { points: 600, q: "ما هي الدولة التي فازت بأول نسخة من بطولة كوبا أمريكا (بطولة أمريكا الجنوبية)؟", correct: "الأوروغواي" },
            { points: 600, q: "من هو اللاعب الذي سجل هدف الفوز لمانشستر يونايتد في نهائي دوري أبطال أوروبا 1999 في الدقائق الأخيرة؟", correct: "أولي جونار سولشار" },
            { points: 600, q: "ما هو النادي المعروف باسم 'The Invincibles' بعد فوزه بالدوري الإنجليزي دون هزيمة؟", correct: "آرسنال" }
        ],
        c2: [ // مسيرة اللاعب (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "ما هو النادي الذي قضى فيه ليونيل ميسي معظم مسيرته؟", correct: "برشلونة" },
            { points: 200, q: "من هو اللاعب الملقب بـ CR7؟", correct: "كريستيانو رونالدو" },
            { points: 200, q: "ما هي جنسية اللاعب زين الدين زيدان؟", correct: "فرنسي" },
            { points: 200, q: "من هذا اللاعب المصري الذي يلعب لنادي ليفربول؟", img: "https://i.imgur.com/L536AId.jpg", correct: "محمد صلاح" },
            { points: 200, q: "ما هو المركز الأساسي الذي كان يلعب فيه دييغو مارادونا؟", correct: "صانع ألعاب / مهاجم ثانٍ" },
            { points: 200, q: "ما هو النادي الذي انتقل إليه نيمار من برشلونة في صفقة تاريخية؟", correct: "باريس سان جيرمان" },
            { points: 200, q: "من هو اللاعب البرازيلي الملقب بـ 'الظاهرة'؟", correct: "رونالدو نازاريو" },
            { points: 200, q: "في أي نادٍ إنجليزي اشتهر ديفيد بيكهام؟", correct: "مانشستر يونايتد" },
            { points: 200, q: "ما هو المنتخب الذي فاز معه بيليه بكأس العالم 3 مرات؟", correct: "منتخب البرازيل" },
            { points: 200, q: "من هو الحارس الإيطالي الأسطوري الذي لعب ليوفنتوس لسنوات طويلة؟", correct: "جانلويجي بوفون" },
            { points: 200, q: "ما هو اسم اللاعب السويدي المعروف بتسجيل الأهداف البهلوانية؟", correct: "زلاتان إبراهيموفيتش" },
            { points: 200, q: "من هذا اللاعب الذي يعتبر أسطورة نادي روما؟", img: "https://i.imgur.com/7b4oX2E.jpg", correct: "فرانشيسكو توتي" },
            { points: 200, q: "ما هو النادي الذي يدربه حاليًا بيب جوارديولا؟", correct: "مانشستر سيتي" },
            { points: 200, q: "من هو اللاعب الهولندي الطائر الذي اشتهر في أياكس وبرشلونة؟", correct: "يوهان كرويف" },
            { points: 200, q: "ما هو النادي الذي بدأ فيه كريستيانو رونالدو مسيرته الاحترافية؟", correct: "سبورتينغ لشبونة" },
            { points: 200, q: "ما هي جنسية اللاعب لوكا مودريتش؟", correct: "كرواتي" },
            { points: 200, q: "من هو اللاعب الأرجنتيني الذي سجل 'هدف يد الرب'؟", correct: "دييغو مارادونا" },
            { points: 200, q: "ما هو النادي الذي فاز معه أندريس إنييستا بدوري أبطال أوروبا 4 مرات؟", correct: "برشلونة" },
            { points: 200, q: "من هو الهداف التاريخي لمنتخب ألمانيا؟", correct: "ميروسلاف كلوزه" },
            { points: 200, q: "ما هو اسم اللاعب الذي اشتهر برقم القميص 10 في منتخب البرازيل؟", correct: "بيليه" },
            // Medium (400 points)
            { points: 400, q: "ما هو أول نادٍ أوروبي لعب له الظاهرة رونالدو؟", correct: "آيندهوفن" },
            { points: 400, q: "كم مرة فاز زين الدين زيدان بدوري أبطال أوروبا كمدرب لريال مدريد؟", correct: "3 مرات متتالية" },
            { points: 400, q: "ما هو النادي الذي فاز معه لويس سواريز بالحذاء الذهبي الأوروبي بعيدًا عن برشلونة؟", correct: "ليفربول وأياكس" },
            { points: 400, q: "من هو المدرب الذي اكتشف ليونيل ميسي وقدمه للفريق الأول في برشلونة؟", correct: "فرانك ريكارد" },
            { points: 400, q: "ما هو النادي الذي انتقل إليه تييري هنري بعد آرسنال؟", correct: "برشلونة" },
            { points: 400, q: "من هذا اللاعب الذي فاز بالكرة الذهبية عام 2004؟", img: "https://i.imgur.com/O6SgGvG.jpg", correct: "أندريه شيفتشينكو" },
            { points: 400, q: "ما هو النادي الإيطالي الذي لعب له باولو مالديني طوال مسيرته؟", correct: "إيه سي ميلان" },
            { points: 400, q: "من هو اللاعب الذي سجل هدف الفوز لإسبانيا في نهائي كأس العالم 2010؟", correct: "أندريس إنييستا" },
            { points: 400, q: "ما هو النادي الذي فاز معه جوزيه مورينيو بدوري أبطال أوروبا بشكل مفاجئ عام 2004؟", correct: "بورتو" },
            { points: 400, q: "من هو اللاعب الوحيد الذي فاز بالكرة الذهبية وهو يلعب في الدوري الألماني (بخلاف لاعبي بايرن ميونخ)؟", correct: "ماتياس زامر" },
            { points: 400, q: "ما هو النادي الذي لعب له جورج ويا وفاز معه بالكرة الذهبية؟", correct: "إيه سي ميلان" },
            { points: 400, q: "من هو اللاعب الذي اشتهر بلقب 'البيبيتو' وسجل أهدافًا رائعة للبرازيل في كأس العالم 1994؟", correct: "بيبيتو" },
            { points: 400, q: "ما هو النادي الذي لعب له روبرتو باجيو عندما أضاع ركلة الجزاء الشهيرة في نهائي 1994؟", correct: "يوفنتوس" },
            { points: 400, q: "من هو المدرب الذي قاد 'فريق الأحلام' لبرشلونة في أوائل التسعينيات؟", correct: "يوهان كرويف" },
            { points: 400, q: "ما هو النادي الذي انتقل إليه كاكا من ميلان في صفقة قياسية وقتها؟", correct: "ريال مدريد" },
            { points: 400, q: "من هو اللاعب التشيكي الذي فاز بالكرة الذهبية عام 2003؟", correct: "بافل نيدفيد" },
            { points: 400, q: "ما هو النادي الذي فاز معه صامويل إيتو بالثلاثية مرتين متتاليتين؟", correct: "برشلونة (2009) وإنتر ميلان (2010)" },
            { points: 400, q: "من هو اللاعب الإنجليزي الهداف التاريخي للدوري الإنجليزي الممتاز؟", correct: "آلان شيرر" },
            { points: 400, q: "ما هو النادي الذي لعب له الحارس بيتر شمايكل قبل مانشستر يونايتد؟", correct: "بروندبي" },
            { points: 400, q: "من هو المدرب الأسطوري الذي قاد نادي ليفربول في عصره الذهبي؟", correct: "بوب بيزلي" },
            // Hard (600 points)
            { points: 600, q: "ما هو النادي الذي فاز معه مايكل أوين بالكرة الذهبية عام 2001؟", correct: "ليفربول" },
            { points: 600, q: "من هو اللاعب الألماني الذي سجل هدف الفوز في نهائي كأس العالم 1990؟", correct: "أندرياس بريمه" },
            { points: 600, q: "ما هو أول نادٍ إنجليزي لعب له يورغن كلينسمان؟", correct: "توتنهام هوتسبير" },
            { points: 600, q: "من هو أصغر لاعب يفوز بجائزة الكرة الذهبية؟", correct: "رونالدو نازاريو" },
            { points: 600, q: "ما هو النادي الفرنسي الذي لعب له زين الدين زيدان قبل يوفنتوس؟", correct: "بوردو" },
            { points: 600, q: "من هذا اللاعب الذي كان قائد منتخب بلغاريا في كأس العالم 1994؟", img: "https://i.imgur.com/g8Oq2bF.jpg", correct: "خريستو ستويتشكوف" },
            { points: 600, q: "ما هو النادي الذي كان يملكه سيلفيو برلسكوني وقاده للسيطرة على أوروبا؟", correct: "إيه سي ميلان" },
            { points: 600, q: "من هو اللاعب الذي سجل هدفًا من منتصف الملعب لصالح مانشستر يونايتد ضد ويمبلدون؟", correct: "ديفيد بيكهام" },
            { points: 600, q: "ما هو النادي الذي كان يلعب فيه جابرييل باتيستوتا عندما انتقل إلى روما؟", correct: "فيورنتينا" },
            { points: 600, q: "من هو المدرب الأرجنتيني الذي قاد أتلتيكو مدريد للفوز بالدوري الإسباني مرتين؟", correct: "دييغو سيميوني" },
            { points: 600, q: "ما هو النادي الذي فاز معه جورج بست بالكرة الذهبية؟", correct: "مانشستر يونايتد" },
            { points: 600, q: "من هو اللاعب الذي يحمل الرقم القياسي في عدد المشاركات في الدوري الإنجليزي الممتاز؟", correct: "جاريث باري" },
            { points: 600, q: "ما هو النادي الذي فاز معه المدرب أريغو ساكي بدوري أبطال أوروبا مرتين متتاليتين؟", correct: "إيه سي ميلان" },
            { points: 600, q: "من هو اللاعب الذي سجل 'عقرب' الهدف الشهير لصالح كولومبيا؟", correct: "رينيه هيجيتا" },
            { points: 600, q: "ما هو النادي الهولندي الذي فاز بدوري أبطال أوروبا عام 1995 بفريق شاب؟", correct: "أياكس أمستردام" },
            { points: 600, q: "من هو اللاعب الفرنسي الذي سجل هدفين في نهائي كأس العالم 1998؟", correct: "زين الدين زيدان" },
            { points: 600, q: "ما هو النادي الذي اشترى منه ريال مدريد اللاعب لويس فيغو في صفقة مثيرة للجدل؟", correct: "برشلونة" },
            { points: 600, q: "من هو اللاعب الذي كان قائد 'الجيل الذهبي' لمنتخب البرتغال؟", correct: "لويس فيغو" },
            { points: 600, q: "ما هو النادي الألماني الذي وصل نهائي دوري الأبطال 3 مرات وخسرها جميعًا في أوائل الألفية؟", correct: "باير ليفركوزن" },
            { points: 600, q: "من هو اللاعب الذي سجل هدف الفوز لليونان في نهائي يورو 2004؟", correct: "أنجيلوس خاريستياس" }
        ],
        c3: [ // معلومات عامة (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "ما هو لون السماء في يوم صافٍ؟", correct: "أزرق" },
            { points: 200, q: "كم عدد أيام الأسبوع؟", correct: "7 أيام" },
            { points: 200, q: "ما هي عاصمة جمهورية مصر العربية؟", correct: "القاهرة" },
            { points: 200, q: "ما هو الكوكب الذي نعيش عليه؟", correct: "الأرض" },
            { points: 200, q: "ما هو أكبر حيوان يعيش على اليابسة؟", correct: "الفيل الأفريقي" },
            { points: 200, q: "ما هو المكون الرئيسي للماء؟", correct: "الهيدروجين والأكسجين" },
            { points: 200, q: "ما هي العملة الرسمية في المملكة العربية السعودية؟", correct: "الريال السعودي" },
            { points: 200, q: "ما هو أطول نهر في العالم؟", correct: "نهر النيل" },
            { points: 200, q: "ما هي القارة التي تشتهر بوجود حيوان الكنغر؟", correct: "أستراليا" },
            { points: 200, q: "ما هو اسم أول رجل هبط على سطح القمر؟", correct: "نيل أرمسترونج" },
            { points: 200, q: "كم عدد الحروف في الأبجدية العربية؟", correct: "28 حرفًا" },
            { points: 200, q: "ما هو الشيء الذي نستخدمه لمعرفة الوقت؟", correct: "الساعة" },
            { points: 200, q: "ما هو لون ثمرة الموز الناضجة؟", correct: "أصفر" },
            { points: 200, q: "ما هي الحاسة التي نستخدمها لتذوق الطعام؟", correct: "التذوق" },
            { points: 200, q: "ما هو صوت الأسد؟", correct: "زئير" },
            { points: 200, q: "ما هي الدولة التي تقع فيها أهرامات الجيزة؟", correct: "مصر" },
            { points: 200, q: "ما هو المعدن الذي يصنع منه المغناطيس؟", correct: "الحديد" },
            { points: 200, q: "ما هو اسم المحيط الذي يفصل بين أوروبا وأمريكا؟", correct: "المحيط الأطلسي" },
            { points: 200, q: "ما هو الفصل الذي تتساقط فيه أوراق الشجر؟", correct: "الخريف" },
            { points: 200, q: "ما هو الجهاز الذي نستخدمه للاتصال بالآخرين عن بعد؟", correct: "الهاتف" },
            // Medium (400 points)
            { points: 400, q: "ما هي أعلى قمة جبلية في العالم؟", correct: "جبل إيفرست" },
            { points: 400, q: "ما هي الدولة الأكثر سكانًا في العالم؟", correct: "الهند" },
            { points: 400, q: "ما هو اسم المجرة التي تنتمي إليها مجموعتنا الشمسية؟", correct: "درب التبانة" },
            { points: 400, q: "من هو مخترع الهاتف؟", correct: "ألكسندر جراهام بيل" },
            { points: 400, q: "ما هي أكبر صحراء في العالم؟", correct: "الصحراء القطبية الجنوبية" },
            { points: 400, q: "ما هي المادة التي يتكون منها الألماس؟", correct: "الكربون" },
            { points: 400, q: "في أي مدينة يقع برج إيفل؟", correct: "باريس" },
            { points: 400, q: "ما هي اللغة الأكثر تحدثًا في العالم من حيث عدد المتحدثين الأصليين؟", correct: "الصينية الماندرين" },
            { points: 400, q: "ما هو الحيوان الذي يرمز إلى الحكمة في العديد من الثقافات؟", correct: "البومة" },
            { points: 400, q: "ما هو أسرع حيوان بري في العالم؟", correct: "الفهد" },
            { points: 400, q: "ما هو الاسم الكيميائي لملح الطعام؟", correct: "كلوريد الصوديوم" },
            { points: 400, q: "ما هي القارة المتجمدة الجنوبية؟", correct: "أنتاركتيكا" },
            { points: 400, q: "من هو الرسام الذي رسم لوحة الموناليزا؟", correct: "ليوناردو دافنشي" },
            { points: 400, q: "ما هي الدولة التي تشتهر بإنتاج القهوة؟", correct: "البرازيل" },
            { points: 400, q: "ما هو العنصر الأكثر وفرة في الغلاف الجوي للأرض؟", correct: "النيتروجين" },
            { points: 400, q: "ما هي القناة التي تربط البحر الأحمر بالبحر الأبيض المتوسط؟", correct: "قناة السويس" },
            { points: 400, q: "ما هو الكوكب المعروف باسم 'الكوكب الأحمر'؟", correct: "المريخ" },
            { points: 400, q: "ما هي أكبر جزيرة في العالم؟", correct: "جرينلاند" },
            { points: 400, q: "ما هو اسم العمل الفني الذي يظهر في الصورة؟", img: "https://i.imgur.com/P5eO6iH.jpg", correct: "لوحة النجوم" },
            { points: 400, q: "ما هو العام الذي بدأ فيه الإنترنت بالانتشار الواسع؟", correct: "عقد 1990" },
            // Hard (600 points)
            { points: 600, q: "ما هي أعمق نقطة في محيطات العالم؟", correct: "خندق ماريانا" },
            { points: 600, q: "ما هو 'تأثير دوبلر'؟", correct: "تغير تردد الموجة بسبب حركة المصدر أو المراقب" },
            { points: 600, q: "ما هو اسم أقدم جامعة في العالم لا تزال تعمل؟", correct: "جامعة القرويين" },
            { points: 600, q: "ما هو الغاز الذي يعطي كوكب نبتون لونه الأزرق؟", correct: "الميثان" },
            { points: 600, q: "ما هي الدولة التي لا تملك أي أنهار دائمة؟", correct: "المملكة العربية السعودية" },
            { points: 600, q: "ما هو 'عدد أفوجادرو' في الكيمياء؟", correct: "عدد الجسيمات في مول واحد من المادة" },
            { points: 600, q: "ما هو اسم النظرية التي تصف أصل الكون؟", correct: "نظرية الانفجار العظيم" },
            { points: 600, q: "ما هي الظاهرة التي تسبب الشفق القطبي؟", correct: "تفاعل الجسيمات المشحونة من الشمس مع الغلاف الجوي للأرض" },
            { points: 600, q: "ما هو أندر فصيلة دم بين البشر؟", correct: "AB سالب" },
            { points: 600, q: "ما هو اسم المركبة الفضائية التي التقطت 'صورة النقطة الزرقاء الباهتة' للأرض؟", correct: "فوياجر 1" },
            { points: 600, q: "ما هي paradoja del abuelo (مفارقة الجد)؟", correct: "مفارقة تتعلق بالسفر عبر الزمن" },
            { points: 600, q: "ما هو الحيوان الذي يمتلك أعلى ضغط دم؟", correct: "الزرافة" },
            { points: 600, q: "ما هو 'مبدأ عدم اليقين' لهايزنبرج؟", correct: "لا يمكن تحديد موضع وسرعة جسيم بدقة في نفس الوقت" },
            { points: 600, q: "ما هو أصل كلمة 'الخوارزمية'؟", correct: "اسم العالم المسلم الخوارزمي" },
            { points: 600, q: "ما هو أطول جسر بحري في العالم؟", correct: "جسر هونغ كونغ-تشوهاي-ماكاو" },
            { points: 600, q: "ما هو اسم أول قمر صناعي تم إطلاقه إلى الفضاء؟", correct: "سبوتنيك 1" },
            { points: 600, q: "ما هي لغة البرمجة التي تم استخدامها لكتابة نظام تشغيل يونكس الأصلي؟", correct: "لغة التجميع (Assembly)" },
            { points: 600, q: "ما هو المعنى الأصلي لكلمة 'أفوكادو' في لغة ناواتل؟", correct: "خصية" },
            { points: 600, q: "ما هو اسم المدينة المفقودة التي بحث عنها الكثيرون في أمريكا الجنوبية؟", correct: "إل دورادو" },
            { points: 600, q: "ما هي 'نسبة فاي' أو 'النسبة الذهبية'؟", correct: "ثابت رياضي يساوي تقريبًا 1.618" }
        ],
        c4: [ // طب عام (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "ما هو العضو الرئيسي في الجهاز التنفسي؟", correct: "الرئتان" },
            { points: 200, q: "كم عدد عظام الإنسان البالغ؟", correct: "206 عظمة" },
            { points: 200, q: "ما هو الجزء من الجسم الذي يضخ الدم؟", correct: "القلب" },
            { points: 200, q: "ما هي الوظيفة الرئيسية للأسنان؟", correct: "مضغ الطعام" },
            { points: 200, q: "ما هو الفيتامين الذي نحصل عليه من الشمس؟", correct: "فيتامين د" },
            { points: 200, q: "ما هو السائل الأحمر الذي يجري في عروقنا؟", correct: "الدم" },
            { points: 200, q: "ما هي الأداة التي يستخدمها الطبيب لسماع دقات القلب؟", correct: "سماعة الطبيب" },
            { points: 200, q: "ما هو اسم العظمة التي تحمي الدماغ؟", correct: "الجمجمة" },
            { points: 200, q: "ما هو العضو المسؤول عن تصفية الدم من السموم؟", correct: "الكلى" },
            { points: 200, q: "ما هي الحاسة التي تمكننا من رؤية الأشياء؟", correct: "البصر" },
            { points: 200, q: "ماذا يسمى طبيب الأطفال؟", correct: "طبيب أطفال" },
            { points: 200, q: "ما هو اللقاح؟", correct: "مادة تساعد الجسم على مقاومة الأمراض" },
            { points: 200, q: "ما هو العضو الأكبر في جسم الإنسان؟", correct: "الجلد" },
            { points: 200, q: "ماذا يسمى ارتفاع درجة حرارة الجسم عن المعدل الطبيعي؟", correct: "حمى" },
            { points: 200, q: "ما هو الطعام الصحي الذي يقوي العظام؟", correct: "الحليب ومنتجاته" },
            { points: 200, q: "ما هو اسم أصغر عظمة في جسم الإنسان؟", correct: "عظمة الركاب في الأذن" },
            { points: 200, q: "ماذا يسمى طبيب الأسنان؟", correct: "طبيب أسنان" },
            { points: 200, q: "ما هي وظيفة خلايا الدم البيضاء؟", correct: "الدفاع عن الجسم ضد العدوى" },
            { points: 200, q: "ما هو العضو المسؤول عن إنتاج الأنسولين؟", correct: "البنكرياس" },
            { points: 200, q: "ماذا تسمى حساسية القمح؟", correct: "الداء البطني (السيلياك)" },
            // Medium (400 points)
            { points: 400, q: "ما هي فصيلة الدم التي تعتبر 'المعطي العام'؟", correct: "O سالب" },
            { points: 400, q: "ما هو الاسم العلمي لضغط الدم المرتفع؟", correct: "ارتفاع ضغط الدم (Hypertension)" },
            { points: 400, q: "ما هو الهرمون الذي يفرزه الجسم عند الشعور بالخطر أو التوتر؟", correct: "الأدرينالين" },
            { points: 400, q: "ما هو الجزء من الدماغ المسؤول عن التوازن وتنسيق الحركة؟", correct: "المخيخ" },
            { points: 400, q: "ماذا تقيس أشعة الـ EEG؟", correct: "النشاط الكهربائي للدماغ" },
            { points: 400, q: "ما هو المرض الذي يسببه نقص فيتامين C؟", correct: "الإسقربوط" },
            { points: 400, q: "من هو العالم الذي اكتشف البنسلين؟", correct: "ألكسندر فليمنغ" },
            { points: 400, q: "ما هي وظيفة الصفائح الدموية؟", correct: "تخثر الدم" },
            { points: 400, q: "ما هو الاسم الآخر للغدة النخامية؟", correct: "سيدة الغدد" },
            { points: 400, q: "ما هو مرض السكري من النوع الأول؟", correct: "مرض مناعي ذاتي يهاجم خلايا البنكرياس" },
            { points: 400, q: "ما هو أطول شريان في جسم الإنسان؟", correct: "الشريان الأبهر (الأورطي)" },
            { points: 400, q: "ما هو الفرق بين الفيروس والبكتيريا؟", correct: "الفيروس يحتاج لخلية حية للتكاثر، أما البكتيريا فلا" },
            { points: 400, q: "ما هو الجزء المسؤول عن امتصاص معظم العناصر الغذائية في الجهاز الهضمي؟", correct: "الأمعاء الدقيقة" },
            { points: 400, q: "ماذا يسمى تخصص الطبيب الذي يعالج أمراض القلب؟", correct: "طب القلب" },
            { points: 400, q: "ما هو اسم المادة الوراثية الموجودة في خلايانا؟", correct: "DNA" },
            { points: 400, q: "ما هو مرض 'فقر الدم المنجلي'؟", correct: "مرض وراثي يؤثر على شكل خلايا الدم الحمراء" },
            { points: 400, q: "ماذا يعني مصطلح 'خزعة'؟", correct: "أخذ عينة من الأنسجة لفحصها" },
            { points: 400, q: "ما هو العصب الأطول في جسم الإنسان؟", correct: "العصب الوركي" },
            { points: 400, q: "ما هو دور الحاجز الدموي الدماغي؟", correct: "حماية الدماغ من المواد الضارة في الدم" },
            { points: 400, q: "ما هي وظيفة اللوزتين؟", correct: "جزء من الجهاز المناعي للدفاع ضد الجراثيم" },
            // Hard (600 points)
            { points: 600, q: "ما هو 'موت الخلية المبرمج'؟", correct: "Apoptosis" },
            { points: 600, q: "ما هو العامل المسؤول عن مرض كروتزفيلد جاكوب (جنون البقر)؟", correct: "البريونات" },
            { points: 600, q: "ماذا تسمى المتلازمة التي يفقد فيها المريض القدرة على التعرف على الوجوه؟", correct: "عمى التعرف على الوجوه (Prosopagnosia)" },
            { points: 600, q: "ما هو 'تأثير плацебо'؟", correct: "تحسن حالة المريض بسبب اعتقاده بتلقي علاج فعال" },
            { points: 600, q: "ما هي الخلايا المسؤولة عن إنتاج الأجسام المضادة في الجسم؟", correct: "الخلايا البلازمية (خلايا B)" },
            { points: 600, q: "ما هو 'جين BRCA1'؟", correct: "جين يزيد من خطر الإصابة بسرطان الثدي والمبيض" },
            { points: 600, q: "ما هو الفرق بين الشريان والوريد؟", correct: "الشريان ينقل الدم من القلب، والوريد ينقله إلى القلب" },
            { points: 600, q: "ما هو دور 'إنزيم النسخ العكسي' الذي تستخدمه بعض الفيروسات مثل HIV؟", correct: "تحويل RNA الفيروسي إلى DNA" },
            { points: 600, q: "ما هو مرض هنتنغتون؟", correct: "مرض وراثي يسبب تحلل الخلايا العصبية في الدماغ" },
            { points: 600, q: "ما هي 'البكتيريا المقاومة للميثيسيلين' (MRSA)؟", correct: "نوع من البكتيريا المقاومة للمضادات الحيوية" },
            { points: 600, q: "ما هي وظيفة 'العقد اللمفاوية'؟", correct: "ترشيح السائل اللمفاوي ومحاربة العدوى" },
            { points: 600, q: "ما هو 'التصلب الجانبي الضموري' (ALS)؟", correct: "مرض يصيب الخلايا العصبية الحركية" },
            { points: 600, q: "ما هو أصل الخلايا الجذعية الجنينية؟", correct: "الكتلة الخلوية الداخلية للكيسة الأريمية" },
            { points: 600, q: "ما هو دور هرمون 'اللبتين' في الجسم؟", correct: "تنظيم الشهية والشعور بالشبع" },
            { points: 600, q: "ماذا يسمى الإجراء الجراحي لإزالة الزائدة الدودية؟", correct: "استئصال الزائدة الدودية" },
            { points: 600, q: "ما هو 'تفاعل البوليميراز المتسلسل' (PCR)؟", correct: "تقنية لتضخيم جزء من الحمض النووي" },
            { points: 600, q: "ما هي 'الميكروبات' البشرية؟", correct: "مجموع الكائنات الحية الدقيقة التي تعيش في الجسم" },
            { points: 600, q: "ما هو 'العصب الحائر' وما هي وظيفته الرئيسية؟", correct: "أطول عصب قحفي وينظم وظائف الأعضاء الداخلية" },
            { points: 600, q: "ما هو مرض 'الفيبروميالجيا'؟", correct: "ألم مزمن واسع الانتشار في العضلات والأنسجة الرخوة" },
            { points: 600, q: "ما هو الإجراء الطبي الذي يتم فيه استخدام جهاز 'غاما نايف'؟", correct: "الجراحة الإشعاعية لعلاج أورام الدماغ" }
        ],
        c5: [ // أسئلة دينية (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "كم عدد أركان الإسلام؟", correct: "خمسة" },
            { points: 200, q: "ما هو أول ركن من أركان الإسلام؟", correct: "الشهادتان" },
            { points: 200, q: "ما هو اسم الكتاب المقدس للمسلمين؟", correct: "القرآن الكريم" },
            { points: 200, q: "في أي شهر يصوم المسلمون؟", correct: "رمضان" },
            { points: 200, q: "إلى أي مدينة هاجر النبي محمد صلى الله عليه وسلم؟", correct: "المدينة المنورة" },
            { points: 200, q: "ما هي قبلة المسلمين في صلاتهم؟", correct: "الكعبة المشرفة" },
            { points: 200, q: "من هو خاتم الأنبياء والرسل؟", correct: "محمد صلى الله عليه وسلم" },
            { points: 200, q: "كم عدد الصلوات المفروضة في اليوم والليلة؟", correct: "خمس صلوات" },
            { points: 200, q: "ما هو اسم الصلاة التي تؤدى عند شروق الشمس؟", correct: "صلاة الفجر" },
            { points: 200, q: "ما هو اسم والد النبي محمد صلى الله عليه وسلم؟", correct: "عبد الله" },
            { points: 200, q: "ما هو اسم أم النبي محمد صلى الله عليه وسلم؟", correct: "آمنة" },
            { points: 200, q: "من هو أول الخلفاء الراشدين؟", correct: "أبو بكر الصديق" },
            { points: 200, q: "ما هي الليلة التي نزل فيها القرآن الكريم؟", correct: "ليلة القدر" },
            { points: 200, q: "ما هو اسم الغار الذي كان يتعبد فيه النبي قبل البعثة؟", correct: "غار حراء" },
            { points: 200, q: "ما هي السورة التي تسمى 'قلب القرآن'؟", correct: "سورة يس" },
            { points: 200, q: "ما هو اسم العيد الذي يأتي بعد شهر رمضان؟", correct: "عيد الفطر" },
            { points: 200, q: "ما هو اسم ملك الوحي؟", correct: "جبريل عليه السلام" },
            { points: 200, q: "ما هو الدعاء الذي يقال عند بدء الطعام؟", correct: "بسم الله" },
            { points: 200, q: "من هو النبي الذي بنى الكعبة مع ابنه إسماعيل؟", correct: "إبراهيم عليه السلام" },
            { points: 200, q: "ما هي الصدقة التي تخرج في نهاية رمضان؟", correct: "زكاة الفطر" },
            // Medium (400 points)
            { points: 400, q: "من هو الصحابي الملقب بـ 'سيف الله المسلول'؟", correct: "خالد بن الوليد" },
            { points: 400, q: "ما هي السورة التي لا تبدأ بالبسملة؟", correct: "سورة التوبة" },
            { points: 400, q: "من هو النبي الذي كلمه الله في جبل الطور؟", correct: "موسى عليه السلام" },
            { points: 400, q: "ما هي أول غزوة في الإسلام؟", correct: "غزوة بدر" },
            { points: 400, q: "كم عدد أسماء الله الحسنى؟", correct: "99 اسمًا" },
            { points: 400, q: "من هي المرأة الوحيدة التي ذكر اسمها في القرآن الكريم؟", correct: "مريم ابنة عمران" },
            { points: 400, q: "ما هي الصلاة التي تصلى على الميت؟", correct: "صلاة الجنازة" },
            { points: 400, q: "من هو النبي الذي ابتلعه الحوت؟", correct: "يونس عليه السلام" },
            { points: 400, q: "ما هو اسم المعركة التي استشهد فيها حمزة بن عبد المطلب؟", correct: "غزوة أحد" },
            { points: 400, q: "ما هي أطول سورة في القرآن الكريم؟", correct: "سورة البقرة" },
            { points: 400, q: "من هو الصحابي الذي أشار بحفر الخندق في غزوة الأحزاب؟", correct: "سلمان الفارسي" },
            { points: 400, q: "ما هو اسم زوجة فرعون التي آمنت بالله؟", correct: "آسية" },
            { points: 400, q: "ما هي 'العشرة المبشرون بالجنة'؟", correct: "عشرة من الصحابة بشرهم النبي بالجنة" },
            { points: 400, q: "ما هو أول مسجد بني في الإسلام؟", correct: "مسجد قباء" },
            { points: 400, q: "من هو النبي الذي أعطاه الله القدرة على فهم لغة الطير والحيوانات؟", correct: "سليمان عليه السلام" },
            { points: 400, q: "ما هو اسم الصحابي الذي كان مؤذن الرسول؟", correct: "بلال بن رباح" },
            { points: 400, q: "ما هي أقصر سورة في القرآن الكريم؟", correct: "سورة الكوثر" },
            { points: 400, q: "ما هو 'عام الحزن'؟", correct: "العام الذي توفيت فيه خديجة وأبو طالب" },
            { points: 400, q: "من هو النبي الذي ولد من أم بلا أب؟", correct: "عيسى عليه السلام" },
            { points: 400, q: "ما هي 'صلح الحديبية'؟", correct: "معاهدة سلام بين المسلمين وقريش" },
            // Hard (600 points)
            { points: 600, q: "من هو الصحابي الذي اهتز لموته عرش الرحمن؟", correct: "سعد بن معاذ" },
            { points: 600, q: "ما هي السورة التي ذكرت فيها قصة أصحاب الكهف؟", correct: "سورة الكهف" },
            { points: 600, q: "من هو أول من رمى بسهم في سبيل الله؟", correct: "سعد بن أبي وقاص" },
            { points: 600, q: "ما هي الحشرة التي تكلمت في القرآن الكريم؟", correct: "النملة" },
            { points: 600, q: "من هو الصحابي الذي تستحي منه الملائكة؟", correct: "عثمان بن عفان" },
            { points: 600, q: "ما هي السورة التي تسمى 'عروس القرآن'؟", correct: "سورة الرحمن" },
            { points: 600, q: "من هو النبي الذي يعتبر 'أبو الأنبياء'؟", correct: "إبراهيم عليه السلام" },
            { points: 600, q: "ما هو اسم الصحابي الذي نزل جبريل على صورته؟", correct: "دحية الكلبي" },
            { points: 600, q: "ما هي 'بيعة العقبة الأولى'؟", correct: "بيعة تمت بين النبي ومجموعة من أهل يثرب" },
            { points: 600, q: "كم سنة استمر نزول القرآن الكريم؟", correct: "23 سنة" },
            { points: 600, q: "من هو الصحابي الذي ذكر اسمه صراحة في القرآن الكريم؟", correct: "زيد بن حارثة" },
            { points: 600, q: "ما هي المعركة التي سميت بـ 'فتح الفتوح'؟", correct: "معركة نهاوند" },
            { points: 600, q: "ما هي السورة التي شفعت لصاحبها حتى غفر له؟", correct: "سورة الملك" },
            { points: 600, q: "من هو أول مولود للمهاجرين في المدينة المنورة؟", correct: "عبد الله بن الزبير" },
            { points: 600, q: "ما هو 'يوم الفرقان' الذي ذكر في القرآن؟", correct: "يوم غزوة بدر" },
            { points: 600, q: "من هو النبي الذي صام عن الكلام ثلاثة أيام؟", correct: "زكريا عليه السلام" },
            { points: 600, q: "ما هي الدابة التي ركبها النبي ليلة الإسراء والمعراج؟", correct: "البراق" },
            { points: 600, q: "من هو الصحابي الذي جمع القرآن الكريم في مصحف واحد في عهد أبي بكر؟", correct: "زيد بن ثابت" },
            { points: 600, q: "ما هي الصلاة الوحيدة التي ليس فيها ركوع أو سجود؟", correct: "صلاة الجنازة" },
            { points: 600, q: "من هو الشاعر الذي قال عنه النبي 'أشعر الشعراء'؟", correct: "امرؤ القيس" }
        ],
        c6: [ // تاريخ (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "في أي بلد تقع أهرامات الجيزة؟", correct: "مصر" },
            { points: 200, q: "من هو أول رئيس للولايات المتحدة الأمريكية؟", correct: "جورج واشنطن" },
            { points: 200, q: "ما هي الحضارة التي بنت الكولوسيوم؟", correct: "الحضارة الرومانية" },
            { points: 200, q: "متى بدأت الحرب العالمية الأولى؟", correct: "1914" },
            { points: 200, q: "من هو القائد المسلم الذي فتح القدس؟", correct: "صلاح الدين الأيوبي" },
            { points: 200, q: "ما هي الدولة التي كانت تعرف ببلاد فارس؟", correct: "إيران" },
            { points: 200, q: "من هو المستكشف الذي اكتشف أمريكا؟", correct: "كريستوفر كولومبوس" },
            { points: 200, q: "ما هي الثورة التي أدت إلى سقوط الملكية في فرنسا؟", correct: "الثورة الفرنسية" },
            { points: 200, q: "ما هو اسم الجدار الذي فصل بين ألمانيا الشرقية والغربية؟", correct: "جدار برلين" },
            { points: 200, q: "من هو الإمبراطور الفرنسي الذي غزا معظم أوروبا؟", correct: "نابليون بونابرت" },
            { points: 200, q: "ما هي الحضارة التي اشتهرت بالكتابة المسمارية؟", correct: "السومرية" },
            { points: 200, q: "ما هي الإمبراطورية التي كانت تحكم الهند قبل الاستقلال؟", correct: "الإمبراطورية البريطانية" },
            { points: 200, q: "من هو قائد المغول الذي أسس إمبراطورية واسعة؟", correct: "جنكيز خان" },
            { points: 200, q: "ما هي المدينة الإيطالية التي دمرها بركان فيزوف؟", correct: "بومبي" },
            { points: 200, q: "ما هي أقدم حضارة في العالم؟", correct: "حضارة بلاد ما بين النهرين" },
            { points: 200, q: "من هو الفيلسوف اليوناني الذي كان معلم الإسكندر الأكبر؟", correct: "أرسطو" },
            { points: 200, q: "ما هي الحرب التي دارت بين أثينا وأسبرطة؟", correct: "الحرب البيلوبونيسية" },
            { points: 200, q: "متى انتهت الحرب العالمية الثانية؟", correct: "1945" },
            { points: 200, q: "من هي الملكة المصرية الشهيرة التي حكمت في العصر البطلمي؟", correct: "كليوباترا" },
            { points: 200, q: "ما هي الدولة التي أطلقت أول قمر صناعي إلى الفضاء؟", correct: "الاتحاد السوفيتي" },
            // Medium (400 points)
            { points: 400, q: "ما هي المعاهدة التي أنهت الحرب العالمية الأولى رسمياً؟", correct: "معاهدة فرساي" },
            { points: 400, q: "من هو الإمبراطور الروماني الذي قسم الإمبراطورية إلى قسمين؟", correct: "ديوكلتيانوس" },
            { points: 400, q: "ما هي 'حرب المائة عام'؟", correct: "صراع طويل بين إنجلترا وفرنسا" },
            { points: 400, q: "من هو القائد القرطاجي الذي عبر جبال الألب لمحاربة الرومان؟", correct: "حنبعل" },
            { points: 400, q: "ما هو اسم الثورة التي أدت إلى تأسيس الاتحاد السوفيتي؟", correct: "الثورة البلشفية (ثورة أكتوبر)" },
            { points: 400, q: "من هو الملك البابلي الذي وضع أول قانون مكتوب؟", correct: "حمورابي" },
            { points: 400, q: "ما هي 'طريق الحرير'؟", correct: "شبكة من الطرق التجارية القديمة ربطت بين الشرق والغرب" },
            { points: 400, q: "من هو الزعيم الذي قاد حركة الحقوق المدنية في الولايات المتحدة؟", correct: "مارتن لوثر كينغ جونيور" },
            { points: 400, q: "ما هو 'عصر النهضة'؟", correct: "فترة ازدهار ثقافي وفني في أوروبا" },
            { points: 400, q: "من هو القائد الذي وحد اليابان في القرن السادس عشر؟", correct: "أودا نوبوناغا" },
            { points: 400, q: "ما هي الإمبراطورية التي حكمت أجزاء واسعة من أوروبا وآسيا وأفريقيا وكانت عاصمتها إسطنبول؟", correct: "الإمبراطورية العثمانية" },
            { points: 400, q: "ما هي 'حرب الأفيون'؟", correct: "حرب بين بريطانيا والصين بسبب تجارة الأفيون" },
            { points: 400, q: "من هي جان دارك؟", correct: "بطلة قومية فرنسية قادت الجيش الفرنسي للنصر" },
            { points: 400, q: "ما هو سبب اندلاع الحرب الأهلية الأمريكية؟", correct: "الخلاف حول قضية العبودية" },
            { points: 400, q: "ما هي 'الكشوف الجغرافية'؟", correct: "فترة استكشاف الأوروبيين لمناطق جديدة في العالم" },
            { points: 400, q: "من هو الزعيم الذي قاد جنوب أفريقيا لإنهاء نظام الفصل العنصري؟", correct: "نيلسون مانديلا" },
            { points: 400, q: "ما هو اسم أول مستعمرة إنجليزية دائمة في أمريكا الشمالية؟", correct: "جيمستاون" },
            { points: 400, q: "ما هي 'الحملات الصليبية'؟", correct: "سلسلة من الحروب الدينية بين المسيحيين والمسلمين" },
            { points: 400, q: "من هو الملك الذي بنى قصر فرساي؟", correct: "لويس الرابع عشر" },
            { points: 400, q: "ما هي 'الثورة الصناعية'؟", correct: "فترة تحول كبير في الصناعة والزراعة والتكنولوجيا" },
            // Hard (600 points)
            { points: 600, q: "ما هي 'حرب الوردتين'؟", correct: "سلسلة من الحروب الأهلية على عرش إنجلترا" },
            { points: 600, q: "من هو الإمبراطور الروماني الذي جعل المسيحية الديانة الرسمية للإمبراطورية؟", correct: "ثيودوسيوس الأول" },
            { points: 600, q: "ما هو 'مشروع مانهاتن'؟", correct: "مشروع أمريكي سري لتطوير أول سلاح نووي" },
            { points: 600, q: "ما هي 'ثورة الميجي' في اليابان؟", correct: "ثورة أعادت السلطة للإمبراطور وبدأت تحديث اليابان" },
            { points: 600, q: "من هو الوزير البروسي الذي يعود له الفضل في توحيد ألمانيا؟", correct: "أوتو فون بسمارك" },
            { points: 600, q: "ما هي 'معركة واترلو'؟", correct: "المعركة الأخيرة والحاسمة لنابليون بونابرت" },
            { points: 600, q: "ما هو اسم الحضارة التي ازدهرت في جزيرة كريت قبل اليونانيين؟", correct: "الحضارة المينوية" },
            { points: 600, q: "من هو المستكشف الذي يعتبر أول من قام برحلة حول العالم؟", correct: "فرديناند ماجلان (أو طاقمه)" },
            { points: 600, q: "ما هي 'أزمة الصواريخ الكوبية'؟", correct: "مواجهة سياسية وعسكرية بين الولايات المتحدة والاتحاد السوفيتي" },
            { points: 600, q: "ما هو 'قانون ساليك' الذي أثر على الخلافة في العديد من الممالك الأوروبية؟", correct: "قانون يمنع الإناث من وراثة العرش" },
            { points: 600, q: "من هو الإمبراطور المغولي الذي بنى تاج محل؟", correct: "شاه جهان" },
            { points: 600, q: "ما هي 'ثورة الملاكمين' في الصين؟", correct: "انتفاضة شعبية ضد النفوذ الأجنبي والمسيحي" },
            { points: 600, q: "ما هي 'معاهدة توردسيلاس'؟", correct: "معاهدة قسمت العالم الجديد بين إسبانيا والبرتغال" },
            { points: 600, q: "من هو الفرعون الذي وحّد مصر العليا والسفلى لأول مرة؟", correct: "نارمر (مينا)" },
            { points: 600, q: "ما هي 'إمبراطورية مالي' في غرب أفريقيا ومن كان أشهر حكامها؟", correct: "إمبراطورية قوية، أشهر حكامها مانسا موسى" },
            { points: 600, q: "ما هو 'إعلان بلفور'؟", correct: "وعد بريطاني بإنشاء وطن قومي لليهود في فلسطين" },
            { points: 600, q: "من هو السياسي الروماني الذي شكل 'الحكم الثلاثي الأول' مع يوليوس قيصر وبومبيوس؟", correct: "كراسوس" },
            { points: 600, q: "ما هي 'الكومونة الباريسية'؟", correct: "حكومة ثورية سيطرت على باريس لفترة وجيزة عام 1871" },
            { points: 600, q: "ما هي 'حرب البوير'؟", correct: "حرب بين الإمبراطورية البريطانية والمستوطنين الهولنديين في جنوب أفريقيا" },
            { points: 600, q: "ما هو اسم أول سفينة وصلت إلى القطب الشمالي؟", correct: "نوتيلوس (غواصة نووية)" }
        ],
        c7: [ // سيارات (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "ما هي الدولة التي تعتبر موطن شركة 'مرسيدس-بنز'؟", correct: "ألمانيا" },
            { points: 200, q: "ما هي العلامة التجارية التي تنتج سيارة 'موستانج'؟", correct: "فورد" },
            { points: 200, q: "ما هو الجزء من السيارة الذي يستخدم لتوجيهها؟", correct: "عجلة القيادة" },
            { points: 200, q: "ما هو الوقود الأكثر شيوعًا للسيارات؟", correct: "البنزين" },
            { points: 200, q: "ما هو لون ضوء الفرامل في السيارة؟", correct: "أحمر" },
            { points: 200, q: "ما هي الشركة اليابانية التي تنتج سيارة 'كورولا'؟", correct: "تويوتا" },
            { points: 200, q: "ما هو شعار هذه الشركة الإيطالية الفاخرة؟", img: "https://i.imgur.com/eBwZ2zH.png", correct: "فيراري" },
            { points: 200, q: "ما هي وظيفة حزام الأمان؟", correct: "حماية الركاب عند الحوادث" },
            { points: 200, q: "ما هي الشركة الكورية الجنوبية التي تنتج سيارة 'سوناتا'؟", correct: "هيونداي" },
            { points: 200, q: "ماذا يسمى الجزء الزجاجي الأمامي للسيارة؟", correct: "الزجاج الأمامي" },
            { points: 200, q: "ما هي الشركة الألمانية التي شعارها أربع حلقات متداخلة؟", correct: "أودي" },
            { points: 200, q: "ماذا تفعل عندما تضيء إشارة المرور باللون الأحمر؟", correct: "تتوقف" },
            { points: 200, q: "ما هي الشركة التي تنتج سيارة 'بيتل' (الخنفساء) الشهيرة؟", correct: "فولكس فاجن" },
            { points: 200, q: "ماذا يسمى الجزء المطاطي الذي يلامس الطريق؟", correct: "الإطار" },
            { points: 200, q: "ما هي الشركة الأمريكية التي تنتج سيارات 'جيب'؟", correct: "جيب (جزء من ستيلانتس)" },
            { points: 200, q: "ماذا يسمى صوت محرك السيارة؟", correct: "هدير أو أزيز" },
            { points: 200, q: "ما هي الدولة التي تشتهر فيها سيارات الأجرة باللون الأصفر؟", correct: "الولايات المتحدة (نيويورك)" },
            { points: 200, q: "ما هو نوع السيارة المصمم لنقل البضائع؟", correct: "شاحنة" },
            { points: 200, q: "ما هي الشركة السويدية المعروفة بمعايير السلامة العالية؟", correct: "فولفو" },
            { points: 200, q: "ما هو الجزء الذي يغطي محرك السيارة؟", correct: "غطاء المحرك (الكبوت)" },
            // Medium (400 points)
            { points: 400, q: "ماذا يعني اختصار 'BMW'؟", correct: "Bayerische Motoren Werke (شركة المحركات البافارية)" },
            { points: 400, q: "ما هو شعار شركة 'لامبورغيني'؟", correct: "ثور هائج" },
            { points: 400, q: "ما هي تقنية الدفع التي تشتهر بها سيارات 'سوبارو'؟", correct: "الدفع الرباعي المتماثل (AWD)" },
            { points: 400, q: "من هو مؤسس شركة فورد للسيارات؟", correct: "هنري فورد" },
            { points: 400, q: "ما هي أول سيارة تم إنتاجها على نطاق واسع باستخدام خط التجميع؟", correct: "فورد موديل T" },
            { points: 400, q: "ماذا يسمى نظام التعليق الذي يستخدم الهواء بدلاً من النوابض المعدنية؟", correct: "نظام التعليق الهوائي" },
            { points: 400, q: "ما هي الشركة التي تنتج سيارة '911' الرياضية الشهيرة؟", correct: "بورشه" },
            { points: 400, q: "ما هو 'المحول الحفاز' في السيارة؟", correct: "جهاز يقلل من الانبعاثات الضارة" },
            { points: 400, q: "ما هي السيارة التي تعتبر أول سيارة 'هايبرد' ناجحة تجاريًا؟", correct: "تويوتا بريوس" },
            { points: 400, q: "ما هي الشركة البريطانية التي تنتج سيارات 'رولز-رويس'؟", correct: "رولز-رويس (تابعة لـ BMW)" },
            { points: 400, q: "ما هو 'التيربو'؟", correct: "جهاز يزيد من قوة المحرك عن طريق ضغط الهواء" },
            { points: 400, q: "ما هي العلامة التجارية الفاخرة لشركة تويوتا؟", correct: "لكزس" },
            { points: 400, q: "ماذا يعني مصطلح 'قوة حصانية'؟", correct: "وحدة قياس لقدرة المحرك" },
            { points: 400, q: "ما هي السيارة التي ظهرت في سلسلة أفلام 'Back to the Future'؟", correct: "دي لوريان DMC-12" },
            { points: 400, q: "ما هو نظام 'ABS' في الفرامل؟", correct: "نظام منع انغلاق المكابح" },
            { points: 400, q: "ما هي العلامة التجارية الفاخرة لشركة هوندا؟", correct: "أكورا" },
            { points: 400, q: "ما هي أسرع سيارة إنتاج في العالم حاليًا (تقريبًا)؟", correct: "بوغاتي تشيرون سوبر سبورت 300+" },
            { points: 400, q: "ما هي السيارة المعروفة بـ 'سيارة الشعب' في ألمانيا؟", correct: "فولكس فاجن بيتل" },
            { points: 400, q: "ما هو 'ناقل الحركة ثنائي الكلتش' (DCT)؟", correct: "نوع من نواقل الحركة الأوتوماتيكية يوفر تبديلاً سريعًا" },
            { points: 400, q: "من هو صاحب هذه السيارة الشهيرة في أفلام جيمس بوند؟", img: "https://i.imgur.com/u1g9g3S.jpg", correct: "أستون مارتن" },
            // Hard (600 points)
            { points: 600, q: "ما هو 'المحرك الدوراني' (Wankel engine) ومن هي الشركة التي اشتهرت باستخدامه؟", correct: "محرك بدون مكابس، اشتهرت به شركة مازدا" },
            { points: 600, q: "ما هي أول سيارة فازت بسباق 'لومان 24 ساعة'؟", correct: "شيتا إيه-فوكس" },
            { points: 600, q: "ماذا يعني مصطلح 'قاعدة العجلات' في السيارة؟", correct: "المسافة بين مركز العجلات الأمامية والخلفية" },
            { points: 600, q: "من هو المصمم الإيطالي الشهير الذي صمم سيارة لامبورغيني كونتاش؟", correct: "مارتشيلو غانديني" },
            { points: 600, q: "ما هي 'نسبة التروس التفاضلية'؟", correct: "تحدد عدد دورات عمود الإدارة اللازمة لتدوير العجلات دورة واحدة" },
            { points: 600, q: "ما هي السيارة التي أُطلق عليها لقب 'صانعة الأرامل' (Widowmaker) بسبب صعوبة قيادتها؟", correct: "بورشه 911 توربو (930)" },
            { points: 600, q: "ما هي تقنية 'VTEC' التي طورتها شركة هوندا؟", correct: "نظام إلكتروني للتحكم في توقيت الصمامات ورفعها" },
            { points: 600, q: "ما هو سباق 'نوربورغرينغ 24 ساعة'؟", correct: "سباق تحمل يقام على حلبة نوربورغرينغ الشهيرة في ألمانيا" },
            { points: 600, q: "ما هي الشركة التي اخترعت حزام الأمان ثلاثي النقاط؟", correct: "فولفو" },
            { points: 600, q: "ما هي السيارة التي تعتبر أول سيارة خارقة (Supercar) في التاريخ؟", correct: "لامبورغيني ميورا" },
            { points: 600, q: "ما هو 'معامل السحب' (Drag Coefficient) في ديناميكا الهواء؟", correct: "مقياس لمقاومة الهواء التي تواجهها السيارة" },
            { points: 600, q: "ما هي الشركة التي أنتجت سيارة 'F1' ذات المقعد الوسطي للسائق؟", correct: "ماكلارين" },
            { points: 600, q: "ما هو 'نظام التعليق متعدد الوصلات' (Multi-link suspension)؟", correct: "نظام تعليق مستقل يستخدم عدة أذرع لتوفير تحكم أفضل" },
            { points: 600, q: "ما هي السيارة التي فازت بأول سباق فورمولا 1 في التاريخ عام 1950؟", correct: "ألفا روميو" },
            { points: 600, q: "ما هو 'محرك بوكسر' (Boxer engine)؟", correct: "محرك تكون فيه المكابس متقابلة أفقيًا" },
            { points: 600, q: "من هو كارول شيلبي؟", correct: "سائق سباقات ومصمم سيارات أمريكي شهير" },
            { points: 600, q: "ما هي تقنية 'Quattro' التي طورتها أودي؟", correct: "نظام دفع رباعي دائم" },
            { points: 600, q: "ما هي 'سيارة العضلات' (Muscle Car)؟", correct: "سيارة أمريكية متوسطة الحجم بمحرك كبير وقوي" },
            { points: 600, q: "ما هو الفرق بين 'التيربو' و'السوبرتشارجر'؟", correct: "التيربو يعتمد على غازات العادم، والسوبرتشارجر يعتمد على حزام من المحرك" },
            { points: 600, q: "ما هي السيارة التي تحمل الرقم القياسي لأغلى سيارة بيعت في مزاد علني؟", correct: "مرسيدس-بنز 300 SLR Uhlenhaut Coupé" }
        ],
        c8: [ // مشاهير (60 سؤال)
            // Easy (200 points)
            { points: 200, q: "من هو الممثل الذي لعب دور 'الرجل الحديدي' (Iron Man)؟", correct: "روبرت داوني جونيور" },
            { points: 200, q: "من هي المغنية المعروفة بلقب 'ملكة البوب'؟", correct: "مادونا" },
            { points: 200, q: "من هو مؤسس شركة 'فيسبوك'؟", correct: "مارك زوكربيرج" },
            { points: 200, q: "من هو أشهر لاعب كرة سلة في التاريخ ويلقب بـ 'Air Jordan'؟", correct: "مايكل جوردان" },
            { points: 200, q: "من هو هذا الممثل الكوميدي الشهير؟", img: "https://i.imgur.com/gK5O0sN.jpg", correct: "روان أتكينسون (مستر بن)" },
            { points: 200, q: "من هو مخرج فيلم 'تايتانيك'؟", correct: "جيمس كاميرون" },
            { points: 200, q: "من هو الملاكم الذي اشتهر بعبارة 'أطفو كالفراشة وألسع كالنحلة'؟", correct: "محمد علي كلاي" },
            { points: 200, q: "من هي مقدمة البرامج الأمريكية الشهيرة التي لديها برنامج حواري خاص بها؟", correct: "أوبرا وينفري" },
            { points: 200, q: "من هو الفيزيائي الذي طور نظرية النسبية؟", correct: "ألبرت أينشتاين" },
            { points: 200, q: "من هو هذا الممثل الذي لعب دور 'جاك سبارو'؟", img: "https://i.imgur.com/OqgwPGe.jpg", correct: "جوني ديب" },
            { points: 200, q: "من هو مؤسس شركة 'أبل'؟", correct: "ستيف جوبز" },
            { points: 200, q: "من هو المغني الذي لقب بـ 'ملك الروك آند رول'؟", correct: "إلفيس بريسلي" },
            { points: 200, q: "من هو الممثل الذي لعب دور 'هاري بوتر'؟", correct: "دانيال رادكليف" },
            { points: 200, q: "من هي الفنانة التي رسمت هذه اللوحة الشهيرة؟", img: "https://i.imgur.com/dJ8o8zG.jpg", correct: "فريدا كاهلو" },
            { points: 200, q: "من هو مؤسس شركة 'مايكروسوفت'؟", correct: "بيل غيتس" },
            { points: 200, q: "من هو الممثل المصري الملقب بـ 'الزعيم'؟", correct: "عادل إمام" },
            { points: 200, q: "من هي المغنية اللبنانية الملقبة بـ 'فيروز'؟", correct: "نهاد حداد" },
            { points: 200, q: "من هو أسرع رجل في العالم؟", correct: "يوسين بولت" },
            { points: 200, q: "من هو الرئيس الأمريكي الذي تم اغتياله عام 1963؟", correct: "جون كينيدي" },
            { points: 200, q: "من هو مؤلف سلسلة كتب 'هاري بوتر'؟", correct: "ج. ك. رولينغ" },
            // Medium (400 points)
            { points: 400, q: "من هو المخرج الذي أخرج ثلاثية 'سيد الخواتم'؟", correct: "بيتر جاكسون" },
            { points: 400, q: "من هو الفنان الذي قطع جزءًا من أذنه؟", correct: "فينسنت فان جوخ" },
            { points: 400, q: "من هو العالم الذي اكتشف الجاذبية؟", correct: "إسحاق نيوتن" },
            { points: 400, q: "من هو هذا المخرج الشهير بأفلامه الغريبة؟", img: "https://i.imgur.com/k2vXw5H.jpg", correct: "كوينتن تارانتينو" },
            { points: 400, q: "من هو مخترع المصباح الكهربائي؟", correct: "توماس إديسون" },
            { points: 400, q: "من هو الممثل الذي فاز بجائزة الأوسكار عن دوره في فيلم 'الجوكر'؟", correct: "خواكين فينيكس" },
            { points: 400, q: "من هو مؤسس شركة 'تسلا' و'سبيس إكس'؟", correct: "إيلون ماسك" },
            { points: 400, q: "من هي أول امرأة فازت بجائزة نوبل؟", correct: "ماري كوري" },
            { points: 400, q: "من هو هذا الكاتب الشهير مؤلف رواية '1984'؟", correct: "جورج أورويل" },
            { points: 400, q: "من هو اللاعب الذي فاز بأكبر عدد من الميداليات الذهبية الأولمبية؟", correct: "مايكل فيلبس" },
            { points: 400, q: "من هو هذا الرسام الإسباني الشهير؟", img: "https://i.imgur.com/V7gC18s.jpg", correct: "سلفادور دالي" },
            { points: 400, q: "من هو الممثل الذي لعب دور 'فوريست غامب'؟", correct: "توم هانكس" },
            { points: 400, q: "من هو مؤسس الإمبراطورية المنغولية؟", correct: "جنكيز خان" },
            { points: 400, q: "من هي الناشطة الباكستانية التي فازت بجائزة نوبل للسلام؟", correct: "ملالا يوسفزاي" },
            { points: 400, q: "من هو المخرج الذي أخرج فيلم 'Inception' و'The Dark Knight'؟", correct: "كريستوفر نولان" },
            { points: 400, q: "من هو الفنان الذي رسم سقف كنيسة سيستين؟", correct: "مايكل أنجلو" },
            { points: 400, q: "من هو العالم الذي طور لقاح شلل الأطفال؟", correct: "جوناس سولك" },
            { points: 400, q: "من هو الممثل الذي اشتهر بأداء أدواره الخطرة بنفسه؟", correct: "جاكي شان" },
            { points: 400, q: "من هو مؤسس نظرية التطور عن طريق الانتقاء الطبيعي؟", correct: "تشارلز داروين" },
            { points: 400, q: "من هو هذا المؤلف الموسيقي الأصم؟", img: "https://i.imgur.com/l7xU7eK.jpg", correct: "لودفيغ فان بيتهوفن" },
            // Hard (600 points)
            { points: 600, q: "من هو المخرج الياباني الذي أخرج فيلم 'Seven Samurai'؟", correct: "أكيرا كوروساوا" },
            { points: 600, q: "من هو الفيلسوف الذي قال 'أنا أفكر، إذن أنا موجود'؟", correct: "رينيه ديكارت" },
            { points: 600, q: "من هو أول شخص يصل إلى القطب الجنوبي؟", correct: "روال أموندسن" },
            { points: 600, q: "من هو هذا العالم الذي يعتبر أبو علم الوراثة؟", img: "https://i.imgur.com/yF9xM7p.jpg", correct: "جريجور مندل" },
            { points: 600, q: "من هو الممثل الذي رفض جائزة الأوسكار عام 1973؟", correct: "مارلون براندو" },
            { points: 600, q: "من هو العالم الذي اكتشف بنية الحمض النووي (DNA)؟", correct: "جيمس واتسون وفرانسيس كريك" },
            { points: 600, q: "من هو هذا الكاتب الروسي مؤلف 'الحرب والسلام'؟", correct: "ليو تولستوي" },
            { points: 600, q: "من هو أول طيار يعبر المحيط الأطلسي بمفرده دون توقف؟", correct: "تشارلز ليندبيرغ" },
            { points: 600, q: "من هو المهندس المعماري الذي صمم دار الأوبرا في سيدني؟", correct: "يورن أوتسون" },
            { points: 600, q: "من هو هذا المخرج السويدي الشهير؟", img: "https://i.imgur.com/R8i7tY5.jpg", correct: "إنغمار برغمان" },
            { points: 600, q: "من هو العالم الذي وضع قوانين الحركة الثلاثة؟", correct: "إسحاق نيوتن" },
            { points: 600, q: "من هو أول أمين عام للأمم المتحدة؟", correct: "تريغفي لي" },
            { points: 600, q: "من هو هذا الاقتصادي مؤلف كتاب 'ثروة الأمم'؟", correct: "آدم سميث" },
            { points: 600, q: "من هو الفنان الذي اشتهر بفن 'Pop Art' ورسم لوحات لعلب حساء كامبل؟", correct: "آندي وارهول" },
            { points: 600, q: "من هو العالم الذي اكتشف الأشعة السينية؟", correct: "فيلهلم رونتجن" },
            { points: 600, q: "من هو الكاتب المسرحي الذي كتب 'هاملت' و'روميو وجولييت'؟", correct: "ويليام شكسبير" },
            { points: 600, q: "من هو أول إنسان يسافر إلى الفضاء؟", correct: "يوري غاغارين" },
            { points: 600, q: "من هو الطبيب النفسي مؤسس التحليل النفسي؟", correct: "سيغموند فرويد" },
            { points: 600, q: "من هو هذا السياسي الذي كان رئيس وزراء بريطانيا خلال الحرب العالمية الثانية؟", img: "https://i.imgur.com/S8W8a2W.jpg", correct: "ونستون تشرشل" },
            { points: 600, q: "من هو العالم الذي اقترح نموذج مركزية الشمس للكون؟", correct: "نيكولاس كوبرنيكوس" }
        ]
    }
};
    let gameData, state;
    let timerInterval;
    let timeLeft = 15;
    let isPaused = true;

    const elements = {
        allViews: document.querySelectorAll('.view'),
        gameContainer: document.getElementById('game-container'),
        devScreen: document.getElementById('developer-screen'),
        setupModal: document.getElementById('setup-modal'),
        passwordModal: document.getElementById('password-modal'),
        categoryGrid: document.getElementById('category-grid'),
        selectedCountEl: document.getElementById('categories-selected-count'),
        confirmCategoriesBtn: document.getElementById('confirm-categories-btn'),
        gameBoard: document.getElementById('game-board'),
        turnDisplays: document.querySelectorAll('.turn-display'),
        categorySelect: document.getElementById('category-select'),
        showAnswerModeratorBtn: document.getElementById('show-answer-moderator-btn'),
        goToAwardBtn: document.getElementById('go-to-award-btn'),
        awardTeam1Btn: document.getElementById('award-team1-btn'),
        awardTeam2Btn: document.getElementById('award-team2-btn'),
        awardNoneBtn: document.getElementById('award-none-btn'),
        devModeBtn: document.getElementById('dev-mode-btn'),
        passwordForm: document.getElementById('password-form'),
        exitDevModeBtn: document.getElementById('exit-dev-mode-btn'),
        addCategoryForm: document.getElementById('add-category-form'),
        addQuestionForm: document.getElementById('add-question-form'),
        resetDataBtn: document.getElementById('reset-data-btn'),
        playAgainBtn: document.getElementById('play-again-btn'),
        exportDataBtn: document.getElementById('export-data-btn'),
        exportTextarea: document.getElementById('export-textarea'),
        timerDisplay: document.getElementById('timer-display'),
        timerToggleBtn: document.getElementById('timer-toggle-btn'),
        timerResetBtn: document.getElementById('timer-reset-btn'),
        questionsAccordionContainer: document.getElementById('questions-accordion-container'),
    };

    function initEventListeners() {
        document.body.addEventListener('click', (event) => {
            const target = event.target;
            
            if (target.matches('.points-cell:not(.answered)')) {
                handlePointsCellClick(target);
                return;
            }
            if (target.matches('.accordion-header')) {
                target.classList.toggle('active');
                const panel = target.nextElementSibling;
                panel.style.maxHeight = panel.style.maxHeight ? null : panel.scrollHeight + "px";
                return;
            }
            if (target.matches('.delete-question-btn')) {
                if (confirm('هل أنت متأكد من حذف هذا السؤال؟ لا يمكن التراجع عن هذا الإجراء.')) {
                    const { categoryId, questionIndex } = target.dataset;
                    gameData.questions[categoryId].splice(parseInt(questionIndex, 10), 1);
                    saveData();
                    alert('تم حذف السؤال بنجاح.');
                    renderQuestionManager();
                }
                return;
            }
            if (target.closest('.on-fire-btn')) {
                const btn = target.closest('.on-fire-btn');
                const teamIndex = btn.id.includes('team1') ? 0 : 1;
                if (state.teams[teamIndex].onFireReady && state.currentTurn === teamIndex) {
                    state.teams[teamIndex].onFireActive = true;
                    state.teams[teamIndex].onFireReady = false;
                    state.teams[teamIndex].onFireUsed = true;
                    updateOnFireButtons();
                }
                return;
            }
            if (target.closest('.category-card')) {
                const card = target.closest('.category-card');
                toggleCategorySelection(card, card.dataset.id);
                return;
            }
            if (target.closest('[id^="home-btn"]')) {
                if (confirm('هل أنت متأكد من رغبتك في العودة إلى البداية؟ ستفقد التقدم الحالي.')) {
                    init();
                }
                return;
            }

            const button = target.closest('button');
            if (!button || !button.id) return;
            
            const actions = {
                'splash-start-btn': () => showView('setup-modal'),
                'start-game-btn': () => {
                    const teamInputs = document.querySelectorAll('.team-name-input');
                    state.teams[0].name = teamInputs[0].value.trim() || 'الفريق الأول';
                    state.teams[1].name = teamInputs[1].value.trim() || 'الفريق الثاني';
                    showView('category-screen');
                },
                'confirm-categories-btn': () => {
                    state.currentRoundQuestions = {};
                    state.selectedCategories.forEach(catId => {
                        const allQuestionsForCat = [...(gameData.questions[catId] || [])];
                        allQuestionsForCat.forEach(q => q.answered = false);
                        const pointsGroups = { 200: [], 400: [], 600: [] };
                        allQuestionsForCat.forEach(q => { if (pointsGroups[q.points]) pointsGroups[q.points].push(q); });
                        const roundQuestions = [];
                        for (const points in pointsGroups) {
                            const group = pointsGroups[points];
                            for (let i = 0; i < 2; i++) {
                                if (group.length > 0) {
                                    const randomIndex = Math.floor(Math.random() * group.length);
                                    roundQuestions.push({ ...group.splice(randomIndex, 1)[0], teamOwner: i + 1 });
                                }
                            }
                        }
                        state.currentRoundQuestions[catId] = roundQuestions;
                    });
                    renderBoard();
                    showView('board-screen');
                },
                'show-answer-moderator-btn': () => {
                    document.getElementById('reveal-answer-text').textContent = `الإجابة الصحيحة: ${state.currentQuestion.correct}`;
                    const rImg = document.getElementById('reveal-infographic');
                    rImg.src = state.currentQuestion.revealImg || '';
                    rImg.style.display = (state.currentQuestion.revealImg) ? 'block' : 'none';
                    updateTurnDisplay();
                    updateFooter('reveal-footer');
                    showView('reveal-screen');
                },
                'go-to-award-btn': () => {
                    elements.awardTeam1Btn.textContent = state.teams[0].name;
                    elements.awardTeam2Btn.textContent = state.teams[1].name;
                    updateTurnDisplay();
                    showView('award-points-screen');
                },
                'award-team1-btn': () => awardPoints(0),
                'award-team2-btn': () => awardPoints(1),
                'award-none-btn': () => awardPoints(-1),
                'back-to-board-btn': () => {
                    if (timerInterval) clearInterval(timerInterval);
                    renderBoard();
                    showView('board-screen');
                },
                'back-to-cat-btn': () => {
                    renderCategories();
                    showView('category-screen');
                },
                'timer-toggle-btn': () => { if (isPaused) startTimer(); else pauseTimer(); },
                'timer-reset-btn': resetTimer,
                'play-again-btn': init,
                'dev-mode-btn': () => showView('password-modal'),
                'exit-dev-mode-btn': () => { loadData(); init(); },
                'reset-data-btn': () => {
                    if (confirm('هل أنت متأكد؟ سيتم حذف كل الفئات والأسئلة المضافة والعودة للبيانات الافتراضية.')) {
                        localStorage.removeItem('gameData');
                        loadData();
                        alert('تمت إعادة ضبط البيانات!');
                        populateDevCategorySelect();
                        renderQuestionManager();
                    }
                },
                'export-data-btn': () => {
                    const dataToExport = { categories: gameData.categories, questions: gameData.questions };
                    elements.exportTextarea.value = `const DEFAULT_GAME_DATA = ${JSON.stringify(dataToExport, null, 4)};`;
                    elements.exportTextarea.style.display = 'block';
                    elements.exportTextarea.select();
                    alert('تم إنشاء الكود! انسخ النص من المربع والصقه في ملف script.js.');
                }
            };
            if (actions[button.id]) actions[button.id]();
        });

        elements.passwordForm?.addEventListener('submit', (e) => {
            e.preventDefault();
            if (document.getElementById('password-input').value === 'Rami@246') {
                document.getElementById('password-input').value = '';
                populateDevCategorySelect();
                renderQuestionManager();
                showView('developer-screen');
            } else {
                alert('كلمة السر خاطئة!');
            }
        });

        elements.addCategoryForm?.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('new-cat-name').value.trim();
            const img = document.getElementById('new-cat-img').value.trim();
            if (!name) return alert('الرجاء ملء اسم الفئة.');
            const newId = 'c' + Date.now();
            gameData.categories.push({ id: newId, name, img });
            gameData.questions[newId] = [];
            saveData();
            alert('تمت إضافة الفئة بنجاح!');
            e.target.reset();
            populateDevCategorySelect();
            renderQuestionManager();
            renderCategories();
        });

        elements.addQuestionForm?.addEventListener('submit', (e) => {
            e.preventDefault();
            const catId = elements.categorySelect.value;
            if (!catId) return alert('الرجاء اختيار فئة أولاً.');
            const newQuestion = {
                points: parseInt(document.getElementById('points-select').value),
                q: document.getElementById('new-q-text').value.trim(),
                img: document.getElementById('new-q-img').value.trim(),
                correct: document.getElementById('new-q-opt1').value.trim(),
                revealImg: document.getElementById('new-q-reveal-img').value.trim(),
                answered: false
            };
            if (!newQuestion.q || !newQuestion.correct) return alert('الرجاء ملء نص السؤال والإجابة الصحيحة.');
            gameData.questions[catId].push(newQuestion);
            saveData();
            alert(`تم إضافة سؤال بنجاح!`);
            e.target.reset();
            renderQuestionManager();
        });
    }

    function handlePointsCellClick(cell) {
        const column = cell.parentElement;
        const colIndex = Array.from(column.parentElement.children).indexOf(column);
        const catId = state.selectedCategories[colIndex];
        const cellIndex = Array.from(column.children).indexOf(cell);
        const question = state.currentRoundQuestions[catId]?.sort((a,b) => a.points - b.points || a.teamOwner - b.teamOwner)[cellIndex];
        if (question) {
            // Note: The team-ownership check from previous versions is removed to allow anyone to answer.
            // A check for whose turn it is could be added here if needed, but for now it's open.
            selectQuestion(question);
        }
    }

    function showView(viewId) {
        elements.allViews.forEach(v => v.classList.remove('visible'));
        const viewToShow = document.getElementById(viewId);
        if (viewToShow) {
            viewToShow.classList.add('visible');
            if (viewToShow.closest('#game-container')) {
                elements.gameContainer.classList.add('visible');
            }
        }
        if (elements.devModeBtn) {
            elements.devModeBtn.style.display = (viewId === 'splash-screen') ? 'block' : 'none';
        }
    }

    function loadData() {
        const savedData = localStorage.getItem('gameData');
        try {
            const parsedData = savedData ? JSON.parse(savedData) : null;
            if (parsedData && parsedData.categories && parsedData.questions) {
                gameData = parsedData;
            } else {
                gameData = JSON.parse(JSON.stringify(DEFAULT_GAME_DATA));
            }
        } catch (e) {
            gameData = JSON.parse(JSON.stringify(DEFAULT_GAME_DATA));
        }
        gameData.categories.forEach(cat => {
            if (!gameData.questions[cat.id]) gameData.questions[cat.id] = [];
        });
    }

    function saveData() {
        localStorage.setItem('gameData', JSON.stringify(gameData));
    }

    function init() {
        state = {
            teams: [
                { name: 'الفريق الأول', score: 0, streak: 0, onFireReady: false, onFireActive: false, onFireUsed: false },
                { name: 'الفريق الثاني', score: 0, streak: 0, onFireReady: false, onFireActive: false, onFireUsed: false }
            ],
            currentTurn: 0,
            selectedCategories: [],
            currentQuestion: null,
            currentRoundQuestions: {}
        };
        document.querySelectorAll('.team-name-input').forEach(input => input.value = '');
        renderCategories();
        showView('splash-screen');
        updateOnFireButtons();
        resetTimer();
    }

    function renderCategories() {
        if (!elements.categoryGrid) return;
        elements.categoryGrid.innerHTML = '';
        state.selectedCategories = [];
        elements.selectedCountEl.textContent = '0';
        elements.confirmCategoriesBtn.disabled = true;
        const categoriesToShow = [...gameData.categories].sort(() => 0.5 - Math.random()).slice(0, 12);
        categoriesToShow.forEach(cat => {
            const card = document.createElement('div');
            card.className = 'category-card';
            card.dataset.id = cat.id;
            let imageHTML = '';
            if (cat.img && cat.img.trim() !== '') {
                imageHTML = `<div class="card-image"><img src="${cat.img}" alt="${cat.name}"></div>`;
            } else {
                imageHTML = `<div class="card-image-placeholder"></div>`;
            }
            card.innerHTML = `${imageHTML}<span>${cat.name}</span>`;
            elements.categoryGrid.appendChild(card);
        });
    }

    function toggleCategorySelection(card, catId) {
        card.classList.toggle('selected');
        const index = state.selectedCategories.indexOf(catId);
        if (index > -1) {
            state.selectedCategories.splice(index, 1);
        } else if (state.selectedCategories.length < 6) {
            state.selectedCategories.push(catId);
        } else {
            card.classList.remove('selected');
        }
        document.querySelectorAll('.category-card').forEach(c => c.classList.remove('team1', 'team2'));
        document.querySelectorAll('.category-card.selected').forEach((c, i) => {
            c.classList.add(i < 3 ? 'team1' : 'team2');
        });
        elements.selectedCountEl.textContent = state.selectedCategories.length;
        elements.confirmCategoriesBtn.disabled = state.selectedCategories.length !== 6;
    }

    function renderBoard() {
        const boardHeader = document.getElementById('board-header');
        boardHeader.innerHTML = '';
        elements.gameBoard.innerHTML = '';
        state.selectedCategories.forEach(catId => {
            const category = gameData.categories.find(c => c.id === catId);
            const headerCell = document.createElement('div');
            headerCell.className = 'category-header-cell';
            headerCell.textContent = category ? category.name : 'فئة';
            boardHeader.appendChild(headerCell);
            const column = document.createElement('div');
            column.className = 'points-column';
            const questions = state.currentRoundQuestions[catId]?.sort((a, b) => a.points - b.points || a.teamOwner - b.teamOwner) || [];
            questions.forEach(q => {
                const cell = document.createElement('div');
                cell.className = `points-cell ${q.answered ? 'answered' : ''} team${q.teamOwner}-cell`;
                cell.textContent = q.points;
                column.appendChild(cell);
            });
            elements.gameBoard.appendChild(column);
        });
        updateTurnDisplay();
        updateFooter('game-footer');
    }

    function selectQuestion(question) {
        state.currentQuestion = question;
        document.getElementById('question-points').textContent = `${question.points} نقطة`;
        document.getElementById('question-text').textContent = question.q;
        const qImg = document.getElementById('question-image');
        qImg.src = question.img || '';
        qImg.style.display = (question.img) ? 'block' : 'none';
        resetTimer();
        updateTurnDisplay();
        updateFooter('question-footer');
        showView('question-screen');
    }

    function awardPoints(awardedTeamIndex) {
        if (timerInterval) clearInterval(timerInterval);
        if (!state.currentQuestion) return;

        if (awardedTeamIndex === 0 || awardedTeamIndex === 1) {
            const winningTeam = state.teams[awardedTeamIndex];
            const losingTeam = state.teams[awardedTeamIndex === 0 ? 1 : 0];

            let pointsToAdd = state.currentQuestion.points;
            if (winningTeam.onFireActive) {
                pointsToAdd *= 2;
            }

            winningTeam.score += pointsToAdd;
            winningTeam.streak++;
            if (losingTeam) {
                losingTeam.streak = 0;
            }

        } else {
            state.teams.forEach(team => {
                team.streak = 0;
            });
        }

        state.teams.forEach(team => {
            team.onFireActive = false; 
            if (team.streak >= 3 && !team.onFireUsed) {
                team.onFireReady = true;
            }
        });

        state.currentQuestion.answered = true;
        saveData();

        if (checkIfGameOver()) {
            showGameOverScreen();
        } else {
            state.currentTurn = (state.currentTurn + 1) % 2;
            renderBoard();
            showView('board-screen');
        }
        updateOnFireButtons();
    }

    function updateTurnDisplay() {
        const team = state.teams[state.currentTurn];
        const color = state.currentTurn === 0 ? 'var(--team1-color)' : 'var(--team2-color)';
        elements.turnDisplays.forEach(display => {
            display.innerHTML = `دور فريق: <span style="color: ${color};">${team.name}</span>`;
        });
    }

    function updateFooter(footerId) {
        const footer = document.getElementById(footerId);
        if (!footer) return;
        const [team1, team2] = state.teams;
        const name1 = footer.querySelector('.team1 .name');
        const score1 = footer.querySelector('.team1 .score');
        const name2 = footer.querySelector('.team2 .name');
        const score2 = footer.querySelector('.team2 .score');

        if (name1) name1.textContent = team1.name;
        if (score1) score1.textContent = team1.score;
        if (name2) name2.textContent = team2.name;
        if (score2) score2.textContent = team2.score;
        updateOnFireButtons();
    }

    function updateOnFireButtons() {
        const [team1, team2] = state.teams;
        document.querySelectorAll('.on-fire-btn').forEach(btn => {
            const isTeam1 = btn.id.includes('team1');
            const team = isTeam1 ? team1 : team2;
            const turn = isTeam1 ? 0 : 1;
            btn.style.display = team.onFireUsed ? 'none' : 'flex';
            btn.disabled = !team.onFireReady || state.currentTurn !== turn;
            btn.classList.toggle('ready', team.onFireReady);
            btn.classList.toggle('active', team.onFireActive);
            const segments = btn.querySelectorAll('.battery-segment');
            segments.forEach((seg, i) => seg.classList.toggle('filled', team.streak > i));
        });
    }

    function checkIfGameOver() {
        if (!state.currentRoundQuestions || Object.keys(state.currentRoundQuestions).length === 0) return false;
        return Object.values(state.currentRoundQuestions).flat().every(q => q.answered);
    }

    function showGameOverScreen() {
        const [team1, team2] = state.teams;
        let winnerText;
        if (team1.score > team2.score) winnerText = `🏆 الفريق الفائز هو ${team1.name}! 🏆`;
        else if (team2.score > team1.score) winnerText = `🏆 الفريق الفائز هو ${team2.name}! 🏆`;
        else winnerText = "انتهت اللعبة بالتعادل!";
        document.getElementById('winner-announcement').textContent = winnerText;
        document.getElementById('final-score-team1').innerHTML = `<span class="team-name">${team1.name}</span><span class="final-score-value">${team1.score}</span>`;
        document.getElementById('final-score-team2').innerHTML = `<span class="team-name">${team2.name}</span><span class="final-score-value">${team2.score}</span>`;
        showView('game-over-screen');
    }

    function updateTimerDisplay() {
        if (elements.timerDisplay) elements.timerDisplay.textContent = String(timeLeft).padStart(2, '0');
    }

    function startTimer() {
        isPaused = false;
        elements.timerToggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
        timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();
            if (timeLeft <= 0) clearInterval(timerInterval);
        }, 1000);
    }

    function pauseTimer() {
        isPaused = true;
        clearInterval(timerInterval);
        elements.timerToggleBtn.innerHTML = '<i class="fas fa-play"></i>';
    }

    function resetTimer() {
        clearInterval(timerInterval);
        timeLeft = 15;
        isPaused = true;
        updateTimerDisplay();
        if (elements.timerToggleBtn) elements.timerToggleBtn.innerHTML = '<i class="fas fa-play"></i>';
    }

    function populateDevCategorySelect() {
        if (!elements.categorySelect) return;
        elements.categorySelect.innerHTML = '<option value="">-- اختر الفئة --</option>';
        gameData.categories.forEach(cat => {
            const option = new Option(cat.name, cat.id);
            elements.categorySelect.appendChild(option);
        });
    }

    function renderQuestionManager() {
        const container = elements.questionsAccordionContainer;
        if (!container) return;
        container.innerHTML = '';
        gameData.categories.forEach(cat => {
            const catQuestions = gameData.questions[cat.id] || [];
            const button = document.createElement('button');
            button.className = 'accordion-header';
            button.textContent = `${cat.name} (${catQuestions.length} سؤال)`;
            const panel = document.createElement('div');
            panel.className = 'accordion-panel';
            if (catQuestions.length > 0) {
                catQuestions.forEach((q, index) => {
                    const item = document.createElement('div');
                    item.className = 'question-item';
                    item.innerHTML = `<p>${q.q}</p>
                                      <span class="points-badge">${q.points} نقطة</span>
                                      <button class="delete-question-btn" data-category-id="${cat.id}" data-question-index="${index}">حذف</button>`;
                    panel.appendChild(item);
                });
            } else {
                panel.innerHTML = '<p style="padding: 12px 8px; color: #6c757d;">لا توجد أسئلة في هذه الفئة.</p>';
            }
            container.append(button, panel);
        });
    }

    loadData();
    init();
    initEventListeners();
});