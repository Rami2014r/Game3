<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญุฏูู ุงูุฃุตุฏูุงุก</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="splash-screen" class="view">
        <div class="splash-content">
            <h1>ุชุญุฏูู ุงูุฃุตุฏูุงุก</h1>
            <button id="splash-start-btn" class="start-game-btn">ุงุจุฏุฃ ุงููุนุจ</button>
            <p class="developer-credit">Developed by Eng. Rami Zaytoun</p>
        </div>
    </div>

    <div id="game-container" class="view">
        <div id="category-screen" class="view">
             <div class="main-container">
                <div class="header">
                    <div class="nav-buttons">
                        <button id="home-btn-cat" class="nav-btn" title="ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ"><i class="fas fa-home"></i></button>
                    </div>
                    <h1>ุงุฎุชุฑ ุงููุฆุงุช</h1>
                </div>
                <div class="page-content">
                    <p>ูฃ ูุฆุงุช ููุฑูููุ ู ูฃ ูุฆุงุช ูููุฑูู ุงูููุงูุณ. ุงุฎุชุงุฑูุง ุจุนูุงูุฉ!</p>
                    <div class="selection-info"><span id="categories-selected-count">0</span> / 6 ูุฆุงุช ุชู ุงุฎุชูุงุฑูุง</div>
                    <div class="category-group">
                        <h2>ุฌููุน ุงููุฆุงุช</h2>
                        <div id="category-grid" class="category-grid"></div>
                    </div>
                    <button id="confirm-categories-btn" class="start-game-btn" disabled>ุฅูู ููุญุฉ ุงููุนุจ</button>
                </div>
            </div>
        </div>
        
        <div id="board-screen" class="view">
            <div class="game-header">
                <div class="nav-buttons">
                    <button id="home-btn-board" class="nav-btn" title="ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ"><i class="fas fa-home"></i></button>
                    <button id="back-to-cat-btn" class="nav-btn" title="ุงูุนูุฏุฉ ูุงุฎุชูุงุฑ ุงููุฆุงุช"><i class="fas fa-arrow-left"></i></button>
                </div>
                <div id="turn-display" class="turn-display"></div>
            </div>

            <div id="game-board-container">
                <div id="board-header"></div>
                <div id="game-board"></div>
            </div>

            <div id="game-footer" class="game-footer">
                <div class="team-info team1">
                    <div class="name">ุงููุฑูู ุงูุฃูู</div>
                    <div class="score">0</div>
                    <button id="on-fire-btn-team1" class="on-fire-btn" disabled>
                        ON FIRE ๐ฅ 
                        <div class="battery">
                            <div class="battery-level">
                                <div class="battery-segment"></div>
                                <div class="battery-segment"></div>
                                <div class="battery-segment"></div>
                            </div>
                            <div class="battery-head"></div>
                        </div>
                    </button>
                </div>
                <div class="team-info team2">
                    <div class="name">ุงููุฑูู ุงูุซุงูู</div>
                    <div class="score">0</div>
                    <button id="on-fire-btn-team2" class="on-fire-btn" disabled>
                        ON FIRE ๐ฅ 
                        <div class="battery">
                            <div class="battery-level">
                                <div class="battery-segment"></div>
                                <div class="battery-segment"></div>
                                <div class="battery-segment"></div>
                            </div>
                            <div class="battery-head"></div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <div id="question-screen" class="view">
            <div class="game-header">
                <div class="nav-buttons">
                    <button id="home-btn-q" class="nav-btn" title="ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ"><i class="fas fa-home"></i></button>
                    <button id="back-to-board-btn" class="nav-btn" title="ุงูุนูุฏุฉ ูููุญุฉ ุงูุฃุณุฆูุฉ"><i class="fas fa-arrow-left"></i></button>
                </div>
                <div class="turn-display"></div>
            </div>
            <div class="question-container">
                <div class="question-top-bar">
                    <div id="question-points"></div>
                    <div class="timer-container">
                        <div class="timer-controls">
                            <button id="timer-reset-btn" class="timer-btn"><i class="fas fa-undo"></i></button>
                            <button id="timer-toggle-btn" class="timer-btn"><i class="fas fa-play"></i></button>
                        </div>
                        <div id="timer-display" class="timer-display">00:00</div>
                    </div>
                </div>
                <div id="question-content" class="question-content">
                    <p id="question-text"></p>
                    <img id="question-image" src="" alt="ุตูุฑุฉ ุงูุณุคุงู">
                </div>
            </div>
            <div id="question-footer" class="game-footer">
                <div class="team-info team1">
                    <div class="name"></div><div class="score"></div>
                </div>
                <button id="show-answer-moderator-btn" class="answer-btn">ุนุฑุถ ุงูุฅุฌุงุจุฉ</button>
                <div class="team-info team2">
                    <div class="name"></div><div class="score"></div>
                </div>
            </div>
        </div>

        <div id="reveal-screen" class="view">
             <div class="game-header"><div class="turn-display"></div></div>
            <div class="reveal-container">
                <h3 id="reveal-answer-text"></h3>
                <img id="reveal-infographic" src="" alt="ูุนูููุงุช ุนู ุงูุฅุฌุงุจุฉ">
            </div>
            <div id="reveal-footer" class="game-footer">
                <div class="team-info team1">
                    <div class="name"></div><div class="score"></div>
                </div>
                <button id="go-to-award-btn" class="answer-btn">ุฃู ูุฑูู ุฃุฌุงุจุ</button>
                <div class="team-info team2">
                    <div class="name"></div><div class="score"></div>
                </div>
            </div>
        </div>

        <div id="award-points-screen" class="view">
            <div class="game-header"><div class="turn-display"></div></div>
            <div class="award-container">
                <h2>ููู ุชุฐูุจ ุงูููุงุทุ</h2>
                <div class="award-options">
                    <button id="award-team1-btn" class="award-btn team1"></button>
                    <button id="award-team2-btn" class="award-btn team2"></button>
                    <button id="award-none-btn" class="award-btn none">ูุง ุฃุญุฏ ุฃุฌุงุจ</button>
                </div>
            </div>
        </div>
    </div>

    <div id="game-over-screen" class="view">
        <div class="game-over-content">
            <h1>ููุงูุฉ ุงููุนุจุฉ!</h1>
            <div id="winner-announcement"></div>
            <div class="final-scores">
                <div id="final-score-team1"></div>
                <div id="final-score-team2"></div>
            </div>
            <button id="play-again-btn" class="start-game-btn">ุงููุนุจ ูุฑุฉ ุฃุฎุฑู</button>
        </div>
    </div>

    <div id="setup-modal" class="view modal-overlay">
        <div class="setup-modal-content">
            <h2>ุญุฏุฏ ูุนูููุงุช ุงููุฑู</h2>
            <div class="teams-container">
                <div class="team-setup"><input type="text" class="team-name-input" placeholder="ุงุณู ุงููุฑูู ุงูุฃูู"></div>
                <div class="team-setup"><input type="text" class="team-name-input" placeholder="ุงุณู ุงููุฑูู ุงูุซุงูู"></div>
            </div>
            <button class="start-game-btn" id="start-game-btn">ุงุจุฏุฃ ุงููุนุจ</button>
        </div>
    </div>
    <div id="password-modal" class="view modal-overlay">
        <div class="setup-modal-content">
            <h2>ูุถุน ุงููุทูุฑ</h2>
            <p>ุงูุฑุฌุงุก ุฅุฏุฎุงู ูููุฉ ุงูุณุฑ ูููุตูู.</p>
            <form id="password-form">
                <input type="password" id="password-input" placeholder="ูููุฉ ุงูุณุฑ" required>
                <button type="submit" class="start-game-btn">ุฏุฎูู</button>
            </form>
        </div>
    </div>

    <div id="developer-screen" class="view">
        <div class="main-container">
            <div class="header">
                <h1>ููุญุฉ ุชุญูู ุงููุทูุฑ</h1>
                <button id="exit-dev-mode-btn" class="back-btn">ุฑุฌูุน ุฅูู ุงููุนุจุฉ</button>
            </div>

            <div class="dev-section">
                <h2>ุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ</h2>
                <form id="add-category-form">
                    <input type="text" id="new-cat-name" placeholder="ุงุณู ุงููุฆุฉ ุงูุฌุฏูุฏุฉ" required>
                    <input type="url" id="new-cat-img" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงููุฆุฉ (ุงุฎุชูุงุฑู)">
                    <button type="submit">ุฅุถุงูุฉ ูุฆุฉ</button>
                </form>
            </div>

            <div class="dev-section">
                <h2>ุฅุถุงูุฉ ุณุคุงู ุฌุฏูุฏ</h2>
                <form id="add-question-form">
                    <select id="category-select" required><option value="">-- ุงุฎุชุฑ ุงููุฆุฉ --</option></select>
                    <select id="points-select" required>
                        <option value="200">200 ููุทุฉ (ุณูู)</option>
                        <option value="400">400 ููุทุฉ (ูุชูุณุท)</option>
                        <option value="600">600 ููุทุฉ (ุตุนุจ)</option>
                    </select>
                    <textarea id="new-q-text" placeholder="ูุต ุงูุณุคุงู" required></textarea>
                    <input type="url" id="new-q-img" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงูุณุคุงู (ุงุฎุชูุงุฑู)">
                    <p>ุงูุฅุฌุงุจุฉ</p>
                    <input type="text" id="new-q-opt1" placeholder="ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ" required>
                    <input type="url" id="new-q-reveal-img" placeholder="ุฑุงุจุท ุตูุฑุฉ ุดุฑุญ ุงูุฅุฌุงุจุฉ (ุงุฎุชูุงุฑู)">
                    <button type="submit">ุญูุธ ุงูุณุคุงู</button>
                </form>
            </div>

            <div class="dev-section" id="manage-questions-section">
                <h2>ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ ุงูุญุงููุฉ</h2>
                <div id="questions-accordion-container">
                    </div>
            </div>

             <button id="reset-data-btn" class="danger-btn">ุฅุนุงุฏุฉ ุถุจุท ูู ุจูุงูุงุช ุงููุนุจุฉ</button>
             <div class="dev-section">
                <h2>ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงูุฏุงุฆูุฉ</h2>
                <p>ุจุนุฏ ุฅุถุงูุฉ ูู ูุฆุงุชู ูุฃุณุฆูุชูุ ุงุถุบุท ุนูู ุงูุฒุฑ ุฃุฏูุงู ูุฅูุดุงุก ูุณุฎุฉ ุฏุงุฆูุฉ. ุงูุณุฎ ุงููุต ุงูุฐู ุณูุธูุฑ ูุงูุตูู ูู ููู script.js ุฏุงุฎู ูุชุบูุฑ DEFAULT_GAME_DATA.</p>
                <button id="export-data-btn" class="export-btn">ุชุตุฏูุฑ ุจูุงูุงุช ุงููุนุจุฉ</button>
                <textarea id="export-textarea" readonly></textarea>
             </div>
        </div>
    </div>
    
    <button id="dev-mode-btn" class="dev-mode-btn">โ๏ธ</button>

    <script src="script.js"></script>
</body>
</html>